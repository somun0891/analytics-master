version: 2

models:
- name: rpt_event_xmau_metric_monthly
  description: '{{ doc("rpt_event_xmau_metric_monthly") }}'
  columns:
    - name: xmau_metric_monthly_id
      description: The unique composite ID of a monthly xMAU metric in the rpt_xmau_metric_monthly model consisting of event_calendar_month, user_group, and event_name_array
      data_tests:
        - not_null
        - unique
    - name: event_calendar_month
      description: '{{ doc("event_calendar_month") }}'
    - name: is_umau
      description: '{{ doc("is_umau") }}'
    - name: is_gmau
      description: '{{ doc("is_gmau") }}'
    - name: is_smau
      description: '{{ doc("is_smau") }}'
    - name: section_name
      description: '{{ doc("section_name") }}'
    - name: stage_name
      description: '{{ doc("stage_name") }}'
    - name: group_name
      description: '{{ doc("group_name") }}'
    - name: user_group
      description: '{{ doc("user_group") }}'
    - name: event_name_array
      description: '{{ doc("event_name_array") }}'
    - name: event_count
      description: '{{ doc("event_count") }}'
    - name: ultimate_parent_namespace_count
      description: '{{ doc("ultimate_parent_namespace_count") }}'
    - name: user_count
      description: '{{ doc("user_count") }}'
    - name: created_by
      description: '{{ doc("created_by") }}'
    - name: updated_by
      description: '{{ doc("updated_by") }}'
    - name: model_created_date
      description: '{{ doc("model_created_date") }}'
    - name: model_updated_date
      description: '{{ doc("model_updated_date") }}'

- name: rpt_event_plan_monthly
  description: '{{ doc("rpt_event_plan_monthly") }}'
  columns:
    - name: event_plan_monthly_id
      description: The unique composite ID for the rpt_usage_event_plan_monthly model consisting of event_calendar_month, plat_id_at_event_month, and event_name
      data_tests:
        - not_null
        - unique
    - name: event_calendar_month
      description: '{{ doc("event_calendar_month") }}'
    - name: event_calendar_quarter
      description: '{{ doc("event_calendar_quarter") }}'
    - name: event_calendar_year
      description: '{{ doc("event_calendar_year") }}'
    - name: plan_id_at_event_month
      description: '{{ doc("plan_id_at_event_month") }}'
    - name: plan_name_at_event_month
      description: '{{ doc("plan_name_at_event_month") }}'
    - name: event_name
      description: '{{ doc("event_name") }}'
    - name: stage_name
      description: '{{ doc("stage_name") }}'
    - name: section_name
      description: '{{ doc("section_name") }}'
    - name: group_name
      description: '{{ doc("group_name") }}'
    - name: is_smau
      description: '{{ doc("is_smau") }}'
    - name: is_gmau
      description: '{{ doc("is_gmau") }}'
    - name: is_umau
      description: '{{ doc("is_umau") }}'
    - name: event_count
      description: '{{ doc("event_count") }}'
    - name: ultimate_parent_namespace_count
      description: '{{ doc("ultimate_parent_namespace_count") }}'
    - name: user_count
      description: '{{ doc("user_count") }}'
    - name: created_by
      description: '{{ doc("created_by") }}'
    - name: updated_by
      description: '{{ doc("updated_by") }}'
    - name: model_created_date
      description: '{{ doc("model_created_date") }}'
    - name: model_updated_date
      description: '{{ doc("model_updated_date") }}'

- name: rpt_ping_metric_first_last_versions
  description: ' {{ doc("rpt_ping_metric_first_last_versions") }} '
  columns:
    - name: ping_metric_first_last_versions_id
      data_tests:
        - not_null
        - unique
      description: The unique composite ID for the rpt_ping_metric_first_last_versions model consisting of metrics_path, ping_edition, and version_is_prerelease
    - name: metrics_path
      description: '{{ doc("metrics_path") }}'
    - name: ping_edition
      description: '{{ doc("ping_edition") }}'
    - name: version_is_prerelease
      description: '{{ doc("version_is_prerelease") }}'
    - name: first_major_minor_version_id_with_counter
      description: '{{ doc("first_major_minor_version_id_with_counter") }}'
    - name: first_major_minor_version_with_counter
      description: '{{ doc("first_major_minor_version_with_counter") }}'
    - name: first_major_version_with_counter
      description: '{{ doc("first_major_version_with_counter") }}'
    - name: first_minor_version_with_counter
      description: '{{ doc("first_minor_version_with_counter") }}'
    - name: last_major_minor_version_id_with_counter
      description: '{{ doc("last_major_minor_version_id_with_counter") }}'
    - name: last_major_minor_version_with_counter
      description: '{{ doc("last_major_minor_version_with_counter") }}'
    - name: last_major_version_with_counter
      description: '{{ doc("last_major_version_with_counter") }}'
    - name: last_minor_version_with_counter
      description: '{{ doc("last_minor_version_with_counter") }}'
    - name: dim_installation_count
      description: '{{ doc("dim_installation_count") }}'
    - name: created_by
      description: '{{ doc("created_by") }}'
    - name: updated_by
      description: '{{ doc("updated_by") }}'
    - name: model_created_date
      description: '{{ doc("model_created_date") }}'
    - name: model_updated_date
      description: '{{ doc("model_updated_date") }}'

- name: rpt_ping_latest_subscriptions_monthly
  description: ' {{ doc("rpt_ping_latest_subscriptions_monthly") }} '
  columns:
    - name: ping_latest_subscriptions_monthly_id
      data_tests:
        - not_null
        - unique
      description: The unique composite ID for the rpt_ping_latest_subscriptions_monthly model consisting of ping_created_date_month, latest_subscription_id, dim_installation_id, ping_edition, and version_is_prerelease
    - name: ping_created_date_month
      description: '{{ doc("ping_created_date_month") }}'
    - name: dim_installation_id
      description: '{{ doc("dim_installation_id") }}'
    - name: latest_subscription_id
      description: '{{ doc("latest_subscription_id") }}'
    - name: subscription_name
      description: '{{ doc("subscription_name") }}'
    - name: ping_delivery_type
      description: '{{ doc("ping_delivery_type") }}'
    - name: ping_deployment_type
      description: '{{ doc("ping_deployment_type") }}'
    - name: ping_edition
      description: '{{ doc("ping_edition") }}'
    - name: version_is_prerelease
      description: '{{ doc("version_is_prerelease") }}'
    - name: major_minor_version_id
      description: The major_minor_version_id of the last ping sent from the installation that month
    - name: instance_user_count
      description: '{{ doc("instance_user_count") }}'
    - name: licensed_user_count
      description: '{{ doc("licensed_user_count_rpt_model") }}'
    - name: ping_count
      description: '{{ doc("ping_count") }}'
    - name: has_sent_pings
      description: '{{ doc("has_sent_pings") }}'
    - name: is_missing_charge_subscription
      description: '{{ doc("is_missing_charge_subscription") }}'
    - name: created_by
      description: '{{ doc("created_by") }}'
    - name: updated_by
      description: '{{ doc("updated_by") }}'
    - name: model_created_date
      description: '{{ doc("model_created_date") }}'
    - name: model_updated_date
      description: '{{ doc("model_updated_date") }}'

- name: rpt_ping_subscriptions_on_versions_estimate_factors_monthly
  description: ' {{ doc("rpt_ping_subscriptions_on_versions_estimate_factors_monthly") }} '
  columns:
    - name: ping_subscriptions_on_versions_estimate_factors_monthly_id
      data_tests:
        - not_null
        - unique
      description: The unique composite ID for the rpt_ping_subscriptions_on_versions_estimate_factors_monthly model consisting of ping_created_date_month, metrics_path, ping_edition, estimation_grain and ping_deployment_type
    - name: ping_created_date_month
      description: '{{ doc("ping_created_date_month") }}'
    - name: metrics_path
      description: '{{ doc("metrics_path") }}'
    - name: ping_delivery_type
      description: '{{ doc("ping_delivery_type") }}'
    - name: ping_deployment_type
      description: '{{ doc("ping_deployment_type") }}'
    - name: ping_edition
      description: '{{ doc("ping_edition") }}'
    - name: stage_name
      description: '{{ doc("stage_name") }}'
    - name: section_name
      description: '{{ doc("section_name") }}'
    - name: group_name
      description: '{{ doc("group_name") }}'
    - name: is_smau
      description: '{{ doc("is_smau") }}'
    - name: is_gmau
      description: '{{ doc("is_gmau") }}'
    - name: is_paid_gmau
      description: '{{ doc("is_paid_gmau") }}'
    - name: is_umau
      description: '{{ doc("is_umau") }}'
    - name: reporting_count
      description: '{{ doc("reporting_count_estimation_model") }}'
    - name: not_reporting_count
      description: '{{ doc("not_reporting_count_estimation_model") }}'
    - name: total_count
      description: '{{ doc("total_count_estimation_model") }}'
    - name: estimation_grain
      description: '{{ doc("estimation_grain") }}'
    - name: percent_reporting
      description: '{{ doc("percent_reporting_estimation_model") }}'
    - name: created_by
      description: '{{ doc("created_by") }}'
    - name: updated_by
      description: '{{ doc("updated_by") }}'
    - name: model_created_date
      description: '{{ doc("model_created_date") }}'
    - name: model_updated_date
      description: '{{ doc("model_updated_date") }}'

- name: rpt_ping_subscriptions_reported_estimate_factors_monthly
  description: ' {{ doc("rpt_ping_subscriptions_reported_estimate_factors_monthly") }} '
  columns:
    - name: ping_subscriptions_reported_estimate_factors_monthly_id
      data_tests:
        - not_null
        - unique
      description: The unique composite ID for the rpt_ping_subscriptions_reported_estimate_factors_monthly model consisting of ping_created_date_month, metrics_path, ping_edition, estimation_grain and ping_deployment_type
    - name: ping_created_date_month
      description: '{{ doc("ping_created_date_month") }}'
    - name: metrics_path
      description: '{{ doc("metrics_path") }}'
    - name: ping_delivery_type
      description: '{{ doc("ping_delivery_type") }}'
    - name: ping_deployment_type
      description: '{{ doc("ping_deployment_type") }}'
    - name: ping_edition
      description: '{{ doc("ping_edition") }}'
    - name: stage_name
      description: '{{ doc("stage_name") }}'
    - name: section_name
      description: '{{ doc("section_name") }}'
    - name: group_name
      description: '{{ doc("group_name") }}'
    - name: is_smau
      description: '{{ doc("is_smau") }}'
    - name: is_gmau
      description: '{{ doc("is_gmau") }}'
    - name: is_paid_gmau
      description: '{{ doc("is_paid_gmau") }}'
    - name: is_umau
      description: '{{ doc("is_umau") }}'
    - name: reporting_count
      description: '{{ doc("reporting_count_estimation_model") }}'
    - name: not_reporting_count
      description: '{{ doc("not_reporting_count_estimation_model") }}'
    - name: total_count
      description: '{{ doc("total_count_estimation_model") }}'
    - name: estimation_grain
      description: '{{ doc("estimation_grain") }}'
    - name: percent_reporting
      description: '{{ doc("percent_reporting_estimation_model") }}'
    - name: created_by
      description: '{{ doc("created_by") }}'
    - name: updated_by
      description: '{{ doc("updated_by") }}'
    - name: model_created_date
      description: '{{ doc("model_created_date") }}'
    - name: model_updated_date
      description: '{{ doc("model_updated_date") }}'

- name: rpt_ping_metric_estimate_factors_monthly
  description: ' {{ doc("rpt_ping_metric_estimate_factors_monthly") }} '
  columns:
    - name: ping_metric_estimate_factors_monthly_id
      data_tests:
        - not_null
        - unique
      description: The unique composite ID for the rpt_ping_metric_estimate_factors_monthly model consisting of ping_created_date_month, metrics_path, ping_edition, estimation_grain and ping_deployment_type.
    - name: ping_created_date_month
      description: '{{ doc("ping_created_date_month") }}'
    - name: metrics_path
      description: '{{ doc("metrics_path") }}'
    - name: ping_delivery_type
      description: '{{ doc("ping_delivery_type") }}'
    - name: ping_deployment_type
      description: '{{ doc("ping_deployment_type") }}'
    - name: ping_edition
      description: '{{ doc("ping_edition") }}'
    - name: stage_name
      description: '{{ doc("stage_name") }}'
    - name: section_name
      description: '{{ doc("section_name") }}'
    - name: group_name
      description: '{{ doc("group_name") }}'
    - name: is_smau
      description: '{{ doc("is_smau") }}'
    - name: is_gmau
      description: '{{ doc("is_gmau") }}'
    - name: is_paid_gmau
      description: '{{ doc("is_paid_gmau") }}'
    - name: is_umau
      description: '{{ doc("is_umau") }}'
    - name: reporting_count
      description: '{{ doc("reporting_count_estimation_model") }}'
    - name: not_reporting_count
      description: '{{ doc("not_reporting_count_estimation_model") }}'
    - name: total_count
      description: '{{ doc("total_count_estimation_model") }}'
    - name: estimation_grain
      description: '{{ doc("estimation_grain") }}'
    - name: percent_reporting
      description: '{{ doc("percent_reporting_estimation_model") }}'
    - name: created_by
      description: '{{ doc("created_by") }}'
    - name: updated_by
      description: '{{ doc("updated_by") }}'
    - name: model_created_date
      description: '{{ doc("model_created_date") }}'
    - name: model_updated_date
      description: '{{ doc("model_updated_date") }}'

- name: rpt_ping_metric_totals_w_estimates_monthly
  description: ' {{ doc("rpt_ping_metric_totals_w_estimates_monthly") }} '
  columns:
    - name: ping_metric_totals_w_estimates_monthly_id
      data_tests:
        - not_null
        - unique
      description: The unique composite ID for the rpt_ping_metric_totals_w_estimates_monthly model consisting of ping_created_date_month, metrics_path, ping_edition, estimation_grain, ping_edition_product_tier and ping_deployment_type
    - name: metrics_path
      description: '{{ doc("metrics_path") }}'
    - name: ping_created_date_month
      description: '{{ doc("ping_created_date_month") }}'
    - name: ping_delivery_type
      description: '{{ doc("ping_delivery_type") }}'
    - name: ping_deployment_type
      description: '{{ doc("ping_deployment_type") }}'
    - name: ping_edition
      description: '{{ doc("ping_edition") }}'
    - name: ping_product_tier
      description: '{{ doc("ping_product_tier") }}'
    - name: ping_edition_product_tier
      description: '{{ doc("ping_edition_product_tier") }}'
    - name: stage_name
      description: '{{ doc("stage_name") }}'
    - name: section_name
      description: '{{ doc("section_name") }}'
    - name: group_name
      description: '{{ doc("group_name") }}'
    - name: is_smau
      description: '{{ doc("is_smau") }}'
    - name: is_gmau
      description: '{{ doc("is_gmau") }}'
    - name: is_paid_gmau
      description: '{{ doc("is_paid_gmau") }}'
    - name: is_umau
      description: '{{ doc("is_umau") }}'
    - name: reporting_count
      description: '{{ doc("reporting_count_estimation_model") }}'
    - name: not_reporting_count
      description: '{{ doc("not_reporting_count_estimation_model") }}'
    - name: percent_reporting
      description: '{{ doc("percent_reporting_estimation_model") }}'
    - name: estimation_grain
      description: '{{ doc("estimation_grain") }}'
    - name: total_usage_with_estimate
      description: '{{ doc("total_usage_with_estimate") }}'
    - name: estimated_usage
      description: '{{ doc("estimated_usage") }}'
    - name: recorded_usage
      description: '{{ doc("recorded_usage_estimation_model") }}'
    - name: created_by
      description: '{{ doc("created_by") }}'
    - name: updated_by
      description: '{{ doc("updated_by") }}'
    - name: model_created_date
      description: '{{ doc("model_created_date") }}'
    - name: model_updated_date
      description: '{{ doc("model_updated_date") }}'

- name: rpt_ping_subscriptions_reported_counts_monthly
  description: ' {{ doc("rpt_ping_subscriptions_reported_counts_monthly") }} '
  columns:
    - name: ping_subscriptions_reported_counts_monthly_id
      data_tests:
        - not_null
        - unique
      description: The unique composite ID for the rpt_ping_subscriptions_reported_counts_monthly model consisting of ping_created_date_month, metrics_path, ping_edition and ping_deployment_type
    - name: ping_created_date_month
      description: '{{ doc("ping_created_date_month") }}'
    - name: metrics_path
      description: '{{ doc("metrics_path") }}'
    - name: ping_delivery_type
      description: '{{ doc("ping_delivery_type") }}'
    - name: ping_deployment_type
      description: '{{ doc("ping_deployment_type") }}'
    - name: ping_edition
      description: '{{ doc("ping_edition") }}'
    - name: total_subscription_count
      description: Total count of active subscriptions
    - name: total_licensed_users
      description: Total count of licensed users (seats) associated with active subscriptions
    - name: created_by
      description: '{{ doc("created_by") }}'
    - name: updated_by
      description: '{{ doc("updated_by") }}'
    - name: model_created_date
      description: '{{ doc("model_created_date") }}'
    - name: model_updated_date
      description: '{{ doc("model_updated_date") }}'

- name: rpt_ping_subscriptions_on_versions_counts_monthly
  description: ' {{ doc("rpt_ping_subscriptions_on_versions_counts_monthly") }} '
  columns:
    - name: ping_subscriptions_on_versions_counts_monthly_id
      data_tests:
        - not_null
        - unique
      description: The unique composite ID for the rpt_ping_subscriptions_on_versions_counts_monthly model consisting of ping_created_date_month, metrics_path, ping_edition, ping_delivery_type and ping_deployment_type
    - name: ping_created_date_month
      description: '{{ doc("ping_created_date_month") }}'
    - name: metrics_path
      description: '{{ doc("metrics_path") }}'
    - name: ping_delivery_type
      description: '{{ doc("ping_delivery_type") }}'
    - name: ping_deployment_type
      description: '{{ doc("ping_deployment_type") }}'
    - name: ping_edition
      description: '{{ doc("ping_edition") }}'
    - name: total_subscription_count
      description: '{{ doc("total_subscription_count_on_versions") }}'
    - name: total_licensed_users
      description: '{{ doc("total_licensed_users_on_versions") }}'
    - name: created_by
      description: '{{ doc("created_by") }}'
    - name: updated_by
      description: '{{ doc("updated_by") }}'
    - name: model_created_date
      description: '{{ doc("model_created_date") }}'
    - name: model_updated_date
      description: '{{ doc("model_updated_date") }}'
        
- name: rpt_gainsight_metrics_monthly_paid_saas
  description: '{{ doc("rpt_gainsight_metrics_monthly_paid_saas") }}'
  columns:
    - name: dim_subscription_id
      data_tests:
        - not_null
      tags: ["tdf", "common", "gainsight"]
    - name: dim_subscription_id_original
      data_tests:
        - not_null
      tags: ["tdf", "common", "gainsight"]
    - name: dim_billing_account_id
      data_tests:
        - not_null
      tags: ["tdf", "common", "gainsight"]
    - name: dim_namespace_id
    - name: snapshot_month
      description: First day of the month in which data is being reported.
      data_tests:
        - not_null
      tags: ["tdf", "common", "gainsight"]
    - name: snapshot_date_id
      data_tests:
        - not_null
      tags: ["tdf", "common", "gainsight"]
    - name: instance_type
      description: Type of instance (Production/Non-Production)
    - name: subscription_seats
    - name: billable_user_count
    - name: license_utilization
    - name: max_historical_user_count
    - name: included_in_health_measures_str
      description: '{{ doc("included_in_health_measures_str") }}'
    - name: ping_delivery_type
      description: '{{ doc("ping_delivery_type") }}'
    - name: ping_deployment_type
      description: '{{ doc("ping_deployment_type") }}'
    - name: umau_28_days_user
      description: '{{ doc("umau_28_days_user_desc") }}'
    - name: action_monthly_active_users_project_repo_28_days_user
      description: Monthly count of unique users that made an Action on a valid [Target](https://docs.gitlab.com/ee/api/events.html#target-types) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreateaction_monthly_active_users_project_repo))
    - name: merge_requests_28_days_user
      description: Monthly count of unique users making merge requests ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreatemerge_requests))
    - name: projects_with_repositories_enabled_28_days_user
      description: Monthly count of unique users that created projects with repositories enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreateprojects_with_repositories_enabled))
    - name: commit_comment_all_time_event
      description: All-time count commit comments ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countscommit_comment))
    - name: source_code_pushes_all_time_event
      description: All-time count of source code pushes ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countssource_code_pushes))
    - name: ci_pipelines_28_days_user
      description: Monthly count of unique users triggering pipelines ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_pipelines))
    - name: ci_internal_pipelines_28_days_user
      description: Monthly count of unique users triggering pipelines in GitLab repositories ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_internal_pipelines))
    - name: ci_builds_28_days_user
      description: Monthly count of unique users running CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_builds))
    - name: ci_builds_all_time_user
      description: All-time count of unique users running CI builds ([source]()https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stageverifyci_builds)
    - name: ci_builds_all_time_event
      description: All-time count of CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_builds))
    - name: ci_runners_all_time_event
      description: All-time count of CI Runners ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_runners))
    - name: auto_devops_enabled_all_time_event
      description: All-time count of Projects with auto DevOps template enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsauto_devops_enabled))
    - name: gitlab_shared_runners_enabled
      description: Flags whether shared runners are enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#gitlab_shared_runners_enabled))
    - name: container_registry_enabled
      description: Flags whether container registry is enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#container_registry_enabled))
    - name: template_repositories_all_time_event
      description: All-time total of custom project templates and projects without namespaces ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countstemplate_repositories))
    - name: ci_pipeline_config_repository_28_days_user
      description: Monthly count of unique users triggering pipelines from templates in repository ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_pipeline_config_repository))
    - name: user_unique_users_all_secure_scanners_28_days_user
      description: Monthly count of unique users running secure CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_unique_users_all_secure_scanners))
    - name: user_sast_jobs_28_days_user
      description: Monthly count of unique users running SAST CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_sast_jobs))
    - name: user_dast_jobs_28_days_user
      description: Monthly count of unique users running DAST CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_dast_jobs))
    - name: user_dependency_scanning_jobs_28_days_user
      description: Monthly count of unique users running dependency scanning CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_dependency_scanning_jobs))
    - name: user_license_management_jobs_28_days_user
      description: Monthly count of unique users running license management CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_license_management_jobs))
    - name: user_secret_detection_jobs_28_days_user
      description: Monthly count of unique users running secret detection CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_secret_detection_jobs))
    - name: user_container_scanning_jobs_28_days_user
      description: Monthly count of unique users running container scanning CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_container_scanning_jobs))
    - name: object_store_packages_enabled
      description: Flags whether Object Storage is enabled for Uploads ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#object_storepackagesenabled))
    - name: projects_with_packages_all_time_event
      description: All-time count of projects with package registry configured ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_with_packages))
    - name: projects_with_packages_28_days_event
      description: '{{ doc("projects_with_packages_28_days_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: deployments_28_days_user
      description: Monthly count of unique users triggering deployments ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyreleasedeployments))
    - name: releases_28_days_user
      description: Monthly count of unique users authoring releases ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyreleasereleases))
    - name: epics_28_days_user
      description: Monthly count of unique users authoring epics ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanepics))
    - name: issues_28_days_user
      description: Monthly count of unique users authoring issues ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanissues))
    - name: ci_internal_pipelines_all_time_event
      description: All-time count of pipelines in GitLab repositories ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_internal_pipelines))
    - name: ci_external_pipelines_all_time_event
      description: All-time count of pipelines in external repositories ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_external_pipelines))
    - name: merge_requests_all_time_event
      description: All-time count of Merge Requests ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsmerge_requests))
    - name: todos_all_time_event
      description: All-time count of ToDos created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countstodos))
    - name: epics_all_time_event
      description: All-time count of Epics created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsepics))
    - name: issues_all_time_event
      description: All-time count of Issues created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsissues))
    - name: projects_all_time_event
      description: All-time count of Projects created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects))
    - name: deployments_28_days_event
      description: Monthly count of deployments ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#counts_monthlydeployments))
    - name: packages_28_days_event
      description: Monthly count of Packages ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#counts_monthlypackages))
    - name: dast_jobs_all_time_event
      description: All-time count of DAST CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsdast_jobs))
    - name: license_management_jobs_all_time_event
      description: All-time count of License Management CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countslicense_management_jobs))
    - name: secret_detection_jobs_all_time_event
      description: All-time count of Secret Detection’ CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countssecret_detection_jobs))
    - name: projects_jenkins_active_all_time_event
      description: All-time count of projects with active integrations for Jenkins ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jenkins_active))
    - name: projects_bamboo_active_all_time_event
      description: All-time count of projects with active integrations for Bamboo CI ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_bamboo_active))
    - name: projects_jira_active_all_time_event
      description: All-time count of projects with active integrations for Jira ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jira_active))
    - name: projects_drone_ci_active_all_time_event
      description: All-time count of projects with active integrations for Drone CI ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_drone_ci_active))
    - name: jira_imports_28_days_event
      description: Monthly count of Issues imported from Jira ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlymanageissue_importsjira)). This metric has been deprecated but we are keeping the field around for history.
    - name: projects_github_active_all_time_event
      description: All-time count of projects with active integrations for GitHub ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_github_active))
    - name: projects_jira_dvcs_cloud_active_all_time_event
      description: All-time count of active integrations with Jira Cloud (DVCS Connector) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jira_dvcs_cloud_active))
    - name: projects_with_repositories_enabled_all_time_event
      description: All-time count of projects with repositories enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_with_repositories_enabled))
    - name: protected_branches_all_time_event
      description: All-time count of protected branches ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprotected_branches))
    - name: remote_mirrors_all_time_event
      description: All-time count of remote mirrors ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsremote_mirrors))
    - name: projects_enforcing_code_owner_approval_28_days_user
      description: Monthly count of unique users creating projects that require code owner approval ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreateprojects_enforcing_code_owner_approval))
    - name: project_clusters_enabled_28_days_user
      description: Monthly count of unique users using GitLab Managed enabled clusters attached to projects ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyconfigureproject_clusters_enabled))
    - name: analytics_28_days_user
      description: The number of unique users viewing any [Analytics page](https://docs.gitlab.com/ee/user/analytics/) ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#manage-manageoptimize---smau-gmau---mau-viewing-analytics-features))
    - name: issues_edit_28_days_user
      description: Number of unique users interacting with an issue (open, close, reopen, adjust label, adjust milestone, adjust weight, comment) ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#plan-planproject-management---smau-paid-gmau---mau-interacting-with-issues))
    - name: user_packages_28_days_user
      description: The maximum distinct count of users who published a package to the Package Registry. In the future, this value will the distinct count of users across all Package AMAUs ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#packagepackage---smau-gmau---count-of-users-publishing-packages))
    - name: terraform_state_api_28_days_user
      description: Monthly active users of GitLab Managed Terraform State ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#configureconfigure---smau-gmau---mau-of-gitlab-managed-terraform-state))
    - name: incident_management_28_days_user
      description: Unique users that interact with alerts or incidents ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#monitormonitor---smau-gmau---unique-users-that-interact-with-alerts-and-incidents))
    - name: auto_devops_enabled
      description: Flags whether auto DevOps is enabled on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#instance_auto_devops_enabled))
    - name: gitaly_clusters_instance
      description: Number of GitLab Managed clusters both enabled and disabled on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#gitalyclusters))
    - name: epics_deepest_relationship_level_instance
      description: Numeric level of the deepest relationship of all epics on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsepics_deepest_relationship_level))
    - name: network_policy_forwards_all_time_event
      description: Cumulative count of packets forwarded by Cilium (Container Network Security) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsnetwork_policy_forwards))
    - name: network_policy_drops_all_time_event
      description: Cumulative count of packets dropped by Cilium (Container Network Security) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsnetwork_policy_drops))
    - name: requirements_with_test_report_all_time_event
      description: All-time count of requirements having a test report ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsrequirements_with_test_report))
    - name: requirement_test_reports_ci_all_time_event
      description: All-time count of requirement test reports created from CI ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsrequirement_test_reports_ci))
    - name: projects_imported_from_github_all_time_event
      description: All-time count of project imported from GitHub ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_imported_from_github))
    - name: projects_jira_dvcs_server_active_all_time_event
      description: All-time count of active integrations with Jira Software (DVCS connector) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jira_dvcs_server_active))
    - name: service_desk_issues_all_time_event
      description: All-time count of service desk issues ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsservice_desk_issues))
    - name: ci_pipelines_all_time_user
      description: All-time count of distinct Users triggering Total pipelines ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stageverifyci_pipelines))
    - name: service_desk_issues_28_days_user
      description: Monthly count of users opening service desk issues ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanservice_desk_issues))
    - name: projects_jira_active_28_days_user
      description: Monthly count of users interacting with active integrations of Jira Software ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanprojects_jira_active))
    - name: projects_jira_dvcs_server_active_28_days_user
      description: Monthly count of users interacting with active integrations of Jira Software (DVCS connector) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanprojects_jira_dvcs_server_active))
    - name: merge_requests_with_required_code_owners_28_days_user
      description: Monthly count of users creating merge requests with required code owners ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreatemerge_requests_with_required_codeowners))
    - name: analytics_value_stream_28_days_event
      description: Monthly count of visits to [Value Stream Analytics](https://about.gitlab.com/stages-devops-lifecycle/value-stream-analytics/) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersanalyticsg_analytics_valuestream_monthly))
    - name: code_review_user_approve_mr_28_days_user
      description: Monthly count of users approving merge requests ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_counterscode_reviewi_code_review_user_approve_mr_monthly))
    - name: epics_usage_28_days_user
      description: Monthly users count for epics_usage ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersepics_usageepics_usage_total_unique_counts_monthly))
    - name: project_management_issue_milestone_changed_28_days_user
      description: Monthly count of MAU changing an issue’s milestone ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersissues_editg_project_management_issue_milestone_changed_monthly))
    - name: project_management_issue_iteration_changed_28_days_user
      description: Monthly count of MAU changing an issue’s iteration ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersissues_editg_project_management_issue_iteration_changed_monthly))
    - name: protected_branches_28_days_user
      description: '{{ doc("protected_branches_28_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: ci_cd_lead_time_usage_28_days_event
      description: '{{ doc("ci_cd_lead_time_usage_28_days_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: ci_cd_deployment_frequency_usage_28_days_event
      description: '{{ doc("ci_cd_deployment_frequency_usage_28_days_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: projects_with_repositories_enabled_all_time_user
      description: '{{ doc("projects_with_repositories_enabled_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: environments_all_time_event
      description: '{{ doc("environments_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: feature_flags_all_time_event
      description: '{{ doc("feature_flags_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: successful_deployments_28_days_event
      description: '{{ doc("successful_deployments_28_days_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: failed_deployments_28_days_event
      description: '{{ doc("failed_deployments_28_days_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: projects_compliance_framework_all_time_event
      description: '{{ doc("projects_compliance_framework_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: commit_ci_config_file_28_days_user
      description: '{{ doc("commit_ci_config_file_28_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: view_audit_all_time_user
      description: '{{ doc("view_audit_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: dependency_scanning_jobs_all_time_user
      description: '{{ doc("dependency_scanning_jobs_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: analytics_devops_adoption_all_time_user
      description: '{{ doc("analytics_devops_adoption_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: projects_imported_all_time_event
      description: '{{ doc("projects_imported_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: preferences_security_dashboard_28_days_user
      description: '{{ doc("preferences_security_dashboard_28_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: web_ide_edit_28_days_user
      description: '{{ doc("web_ide_edit_28_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: auto_devops_pipelines_all_time_event
      description: '{{ doc("auto_devops_pipelines_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: projects_prometheus_active_all_time_event
      description: '{{ doc("projects_prometheus_active_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: prometheus_enabled
      description: '{{ doc("prometheus_enabled_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: prometheus_metrics_enabled
      description: '{{ doc("prometheus_metrics_enabled_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: group_saml_enabled
      description: '{{ doc("group_saml_enabled_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: jira_issue_imports_all_time_event
      description: '{{ doc("jira_issue_imports_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: author_epic_all_time_user
      description: '{{ doc("author_epic_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: author_issue_all_time_user
      description: '{{ doc("author_issue_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: failed_deployments_28_days_user
      description: '{{ doc("failed_deployments_28_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: successful_deployments_28_days_user
      description: '{{ doc("successful_deployments_28_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: geo_enabled
      description: '{{ doc("geo_enabled_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: auto_devops_pipelines_28_days_user
      description: '{{ doc("auto_devops_pipelines_28_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: active_instance_runners_all_time_event
      description: '{{ doc("active_instance_runners_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: active_group_runners_all_time_event
      description: '{{ doc("active_group_runners_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: active_project_runners_all_time_event
      description: '{{ doc("active_project_runners_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: gitaly_version
      description: '{{ doc("gitaly_version_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: gitaly_servers_all_time_event
      description: '{{ doc("gitaly_servers_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: ci_internal_pipelines_28_days_event
      description: '{{ doc("ci_internal_pipelines_28_days_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: ci_builds_28_days_event
      description: '{{ doc("ci_builds_28_days_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: groups_all_time_event
      description: '{{ doc("groups_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: commit_ci_config_file_7_days_user
      description: '{{ doc("commit_ci_config_file_7_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: ci_pipeline_config_repository_all_time_user
      description: '{{ doc("ci_pipeline_config_repository_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: ci_pipeline_config_repository_all_time_event
      description: '{{ doc("ci_pipeline_config_repository_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: pipeline_schedules_all_time_event
      description: '{{ doc("pipeline_schedules_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: pipeline_schedules_all_time_user
      description: '{{ doc("pipeline_schedules_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: is_missing_paid_seats
      description: Flags if there are currently active users, but no seats have been paid for
    - name: is_data_in_subscription_month
      description: Flags if there is either Subscription Seats data or Usage Ping data present in the given month for a given subscription
    - name: is_latest_data
      description: Flags the row with the most recently received data from Usage Ping

- name: rpt_gainsight_metrics_monthly_paid_self_managed
  description: '{{ doc("rpt_gainsight_metrics_monthly_paid_self_managed") }}'
  columns:
    - name: dim_subscription_id
      data_tests:
        - not_null
      tags: ["tdf", "common", "gainsight"]
    - name: dim_subscription_id_original
      data_tests:
        - not_null
      tags: ["tdf", "common", "gainsight"]
    - name: dim_billing_account_id
      data_tests:
        - not_null
      tags: ["tdf", "common", "gainsight"]
    - name: dim_namespace_id
    - name: snapshot_month
      description: First day of the month in which data is being reported.
      data_tests:
        - not_null
      tags: ["tdf", "common", "gainsight"]
    - name: snapshot_date_id
      data_tests:
        - not_null
      tags: ["tdf", "common", "gainsight"]
    - name: instance_type
      description: Type of instance (Production/Non-Production)
    - name: subscription_seats
    - name: billable_user_count
    - name: license_utilization
    - name: max_historical_user_count
    - name: included_in_health_measures_str
      description: '{{ doc("included_in_health_measures_str") }}'
    - name: ping_delivery_type
      description: '{{ doc("ping_delivery_type") }}'
    - name: ping_deployment_type
      description: '{{ doc("ping_deployment_type") }}'
    - name: umau_28_days_user
      description: '{{ doc("umau_28_days_user_desc") }}'
    - name: action_monthly_active_users_project_repo_28_days_user
      description: Monthly count of unique users that made an Action on a valid [Target](https://docs.gitlab.com/ee/api/events.html#target-types) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreateaction_monthly_active_users_project_repo))
    - name: merge_requests_28_days_user
      description: Monthly count of unique users making merge requests ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreatemerge_requests))
    - name: projects_with_repositories_enabled_28_days_user
      description: Monthly count of unique users that created projects with repositories enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreateprojects_with_repositories_enabled))
    - name: commit_comment_all_time_event
      description: All-time count commit comments ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countscommit_comment))
    - name: source_code_pushes_all_time_event
      description: All-time count of source code pushes ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countssource_code_pushes))
    - name: ci_pipelines_28_days_user
      description: Monthly count of unique users triggering pipelines ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_pipelines))
    - name: ci_internal_pipelines_28_days_user
      description: Monthly count of unique users triggering pipelines in GitLab repositories ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_internal_pipelines))
    - name: ci_builds_28_days_user
      description: Monthly count of unique users running CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_builds))
    - name: ci_builds_all_time_user
      description: All-time count of unique users running CI builds ([source]()https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stageverifyci_builds)
    - name: ci_builds_all_time_event
      description: All-time count of CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_builds))
    - name: ci_runners_all_time_event
      description: All-time count of CI Runners ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_runners))
    - name: auto_devops_enabled_all_time_event
      description: All-time count of Projects with auto DevOps template enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsauto_devops_enabled))
    - name: gitlab_shared_runners_enabled
      description: Flags whether shared runners are enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#gitlab_shared_runners_enabled))
    - name: container_registry_enabled
      description: Flags whether container registry is enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#container_registry_enabled))
    - name: template_repositories_all_time_event
      description: All-time total of custom project templates and projects without namespaces ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countstemplate_repositories))
    - name: ci_pipeline_config_repository_28_days_user
      description: Monthly count of unique users triggering pipelines from templates in repository ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyverifyci_pipeline_config_repository))
    - name: user_unique_users_all_secure_scanners_28_days_user
      description: Monthly count of unique users running secure CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_unique_users_all_secure_scanners))
    - name: user_sast_jobs_28_days_user
      description: Monthly count of unique users running SAST CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_sast_jobs))
    - name: user_dast_jobs_28_days_user
      description: Monthly count of unique users running DAST CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_dast_jobs))
    - name: user_dependency_scanning_jobs_28_days_user
      description: Monthly count of unique users running dependency scanning CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_dependency_scanning_jobs))
    - name: user_license_management_jobs_28_days_user
      description: Monthly count of unique users running license management CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_license_management_jobs))
    - name: user_secret_detection_jobs_28_days_user
      description: Monthly count of unique users running secret detection CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_secret_detection_jobs))
    - name: user_container_scanning_jobs_28_days_user
      description: Monthly count of unique users running container scanning CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlysecureuser_container_scanning_jobs))
    - name: object_store_packages_enabled
      description: Flags whether Object Storage is enabled for Uploads ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#object_storepackagesenabled))
    - name: projects_with_packages_all_time_event
      description: All-time count of projects with package registry configured ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_with_packages))
    - name: projects_with_packages_28_days_event
      description: '{{ doc("projects_with_packages_28_days_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: deployments_28_days_user
      description: Monthly count of unique users triggering deployments ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyreleasedeployments))
    - name: releases_28_days_user
      description: Monthly count of unique users authoring releases ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyreleasereleases))
    - name: epics_28_days_user
      description: Monthly count of unique users authoring epics ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanepics))
    - name: issues_28_days_user
      description: Monthly count of unique users authoring issues ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanissues))
    - name: ci_internal_pipelines_all_time_event
      description: All-time count of pipelines in GitLab repositories ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_internal_pipelines))
    - name: ci_external_pipelines_all_time_event
      description: All-time count of pipelines in external repositories ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsci_external_pipelines))
    - name: merge_requests_all_time_event
      description: All-time count of Merge Requests ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsmerge_requests))
    - name: todos_all_time_event
      description: All-time count of ToDos created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countstodos))
    - name: epics_all_time_event
      description: All-time count of Epics created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsepics))
    - name: issues_all_time_event
      description: All-time count of Issues created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsissues))
    - name: projects_all_time_event
      description: All-time count of Projects created ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects))
    - name: deployments_28_days_event
      description: Monthly count of deployments ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#counts_monthlydeployments))
    - name: packages_28_days_event
      description: Monthly count of Packages ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#counts_monthlypackages))
    - name: dast_jobs_all_time_event
      description: All-time count of DAST CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsdast_jobs))
    - name: license_management_jobs_all_time_event
      description: All-time count of License Management CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countslicense_management_jobs))
    - name: secret_detection_jobs_all_time_event
      description: All-time count of Secret Detection’ CI builds ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countssecret_detection_jobs))
    - name: projects_jenkins_active_all_time_event
      description: All-time count of projects with active integrations for Jenkins ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jenkins_active))
    - name: projects_bamboo_active_all_time_event
      description: All-time count of projects with active integrations for Bamboo CI ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_bamboo_active))
    - name: projects_jira_active_all_time_event
      description: All-time count of projects with active integrations for Jira ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jira_active))
    - name: projects_drone_ci_active_all_time_event
      description: All-time count of projects with active integrations for Drone CI ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_drone_ci_active))
    - name: jira_imports_28_days_event
      description: Monthly count of Issues imported from Jira ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlymanageissue_importsjira)). This metric has been deprecated but we are keeping the field around for history.
    - name: projects_github_active_all_time_event
      description: All-time count of projects with active integrations for GitHub ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_github_active))
    - name: projects_jira_dvcs_cloud_active_all_time_event
      description: All-time count of active integrations with Jira Cloud (DVCS Connector) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jira_dvcs_cloud_active))
    - name: projects_with_repositories_enabled_all_time_event
      description: All-time count of projects with repositories enabled ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_with_repositories_enabled))
    - name: protected_branches_all_time_event
      description: All-time count of protected branches ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprotected_branches))
    - name: remote_mirrors_all_time_event
      description: All-time count of remote mirrors ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsremote_mirrors))
    - name: projects_enforcing_code_owner_approval_28_days_user
      description: Monthly count of unique users creating projects that require code owner approval ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreateprojects_enforcing_code_owner_approval))
    - name: project_clusters_enabled_28_days_user
      description: Monthly count of unique users using GitLab Managed enabled clusters attached to projects ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyconfigureproject_clusters_enabled))
    - name: analytics_28_days_user
      description: The number of unique users viewing any [Analytics page](https://docs.gitlab.com/ee/user/analytics/) ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#manage-manageoptimize---smau-gmau---mau-viewing-analytics-features))
    - name: issues_edit_28_days_user
      description: Number of unique users interacting with an issue (open, close, reopen, adjust label, adjust milestone, adjust weight, comment) ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#plan-planproject-management---smau-paid-gmau---mau-interacting-with-issues))
    - name: user_packages_28_days_user
      description: The maximum distinct count of users who published a package to the Package Registry. In the future, this value will the distinct count of users across all Package AMAUs ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#packagepackage---smau-gmau---count-of-users-publishing-packages))
    - name: terraform_state_api_28_days_user
      description: Monthly active users of GitLab Managed Terraform State ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#configureconfigure---smau-gmau---mau-of-gitlab-managed-terraform-state))
    - name: incident_management_28_days_user
      description: Unique users that interact with alerts or incidents ([source](https://about.gitlab.com/handbook/product/stage-and-group-performance-indicators/#monitormonitor---smau-gmau---unique-users-that-interact-with-alerts-and-incidents))
    - name: auto_devops_enabled
      description: Flags whether auto DevOps is enabled on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#instance_auto_devops_enabled))
    - name: gitaly_clusters_instance
      description: Number of GitLab Managed clusters both enabled and disabled on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#gitalyclusters))
    - name: epics_deepest_relationship_level_instance
      description: Numeric level of the deepest relationship of all epics on an instance ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsepics_deepest_relationship_level))
    - name: network_policy_forwards_all_time_event
      description: Cumulative count of packets forwarded by Cilium (Container Network Security) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsnetwork_policy_forwards))
    - name: network_policy_drops_all_time_event
      description: Cumulative count of packets dropped by Cilium (Container Network Security) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsnetwork_policy_drops))
    - name: requirements_with_test_report_all_time_event
      description: All-time count of requirements having a test report ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsrequirements_with_test_report))
    - name: requirement_test_reports_ci_all_time_event
      description: All-time count of requirement test reports created from CI ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsrequirement_test_reports_ci))
    - name: projects_imported_from_github_all_time_event
      description: All-time count of project imported from GitHub ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_imported_from_github))
    - name: projects_jira_dvcs_server_active_all_time_event
      description: All-time count of active integrations with Jira Software (DVCS connector) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsprojects_jira_dvcs_server_active))
    - name: service_desk_issues_all_time_event
      description: All-time count of service desk issues ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#countsservice_desk_issues))
    - name: ci_pipelines_all_time_user
      description: All-time count of distinct Users triggering Total pipelines ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stageverifyci_pipelines))
    - name: service_desk_issues_28_days_user
      description: Monthly count of users opening service desk issues ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanservice_desk_issues))
    - name: projects_jira_active_28_days_user
      description: Monthly count of users interacting with active integrations of Jira Software ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanprojects_jira_active))
    - name: projects_jira_dvcs_server_active_28_days_user
      description: Monthly count of users interacting with active integrations of Jira Software (DVCS connector) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlyplanprojects_jira_dvcs_server_active))
    - name: merge_requests_with_required_code_owners_28_days_user
      description: Monthly count of users creating merge requests with required code owners ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#usage_activity_by_stage_monthlycreatemerge_requests_with_required_codeowners))
    - name: analytics_value_stream_28_days_event
      description: Monthly count of visits to [Value Stream Analytics](https://about.gitlab.com/stages-devops-lifecycle/value-stream-analytics/) ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersanalyticsg_analytics_valuestream_monthly))
    - name: code_review_user_approve_mr_28_days_user
      description: Monthly count of users approving merge requests ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_counterscode_reviewi_code_review_user_approve_mr_monthly))
    - name: epics_usage_28_days_user
      description: Monthly users count for epics_usage ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersepics_usageepics_usage_total_unique_counts_monthly))
    - name: project_management_issue_milestone_changed_28_days_user
      description: Monthly count of MAU changing an issue’s milestone ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersissues_editg_project_management_issue_milestone_changed_monthly))
    - name: project_management_issue_iteration_changed_28_days_user
      description: Monthly count of MAU changing an issue’s iteration ([source](https://docs.gitlab.com/ee/development/usage_ping/dictionary.html#redis_hll_countersissues_editg_project_management_issue_iteration_changed_monthly))
    - name: protected_branches_28_days_user
      description: '{{ doc("protected_branches_28_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: ci_cd_lead_time_usage_28_days_event
      description: '{{ doc("ci_cd_lead_time_usage_28_days_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: ci_cd_deployment_frequency_usage_28_days_event
      description: '{{ doc("ci_cd_deployment_frequency_usage_28_days_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: projects_with_repositories_enabled_all_time_user
      description: '{{ doc("projects_with_repositories_enabled_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: environments_all_time_event
      description: '{{ doc("environments_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: feature_flags_all_time_event
      description: '{{ doc("feature_flags_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: successful_deployments_28_days_event
      description: '{{ doc("successful_deployments_28_days_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: failed_deployments_28_days_event
      description: '{{ doc("failed_deployments_28_days_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: projects_compliance_framework_all_time_event
      description: '{{ doc("projects_compliance_framework_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: commit_ci_config_file_28_days_user
      description: '{{ doc("commit_ci_config_file_28_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: view_audit_all_time_user
      description: '{{ doc("view_audit_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: dependency_scanning_jobs_all_time_user
      description: '{{ doc("dependency_scanning_jobs_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: analytics_devops_adoption_all_time_user
      description: '{{ doc("analytics_devops_adoption_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: projects_imported_all_time_event
      description: '{{ doc("projects_imported_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: preferences_security_dashboard_28_days_user
      description: '{{ doc("preferences_security_dashboard_28_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: web_ide_edit_28_days_user
      description: '{{ doc("web_ide_edit_28_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: auto_devops_pipelines_all_time_event
      description: '{{ doc("auto_devops_pipelines_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: projects_prometheus_active_all_time_event
      description: '{{ doc("projects_prometheus_active_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: prometheus_enabled
      description: '{{ doc("prometheus_enabled_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: prometheus_metrics_enabled
      description: '{{ doc("prometheus_metrics_enabled_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: group_saml_enabled
      description: '{{ doc("group_saml_enabled_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: jira_issue_imports_all_time_event
      description: '{{ doc("jira_issue_imports_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: author_epic_all_time_user
      description: '{{ doc("author_epic_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: author_issue_all_time_user
      description: '{{ doc("author_issue_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: failed_deployments_28_days_user
      description: '{{ doc("failed_deployments_28_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: successful_deployments_28_days_user
      description: '{{ doc("successful_deployments_28_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: geo_enabled
      description: '{{ doc("geo_enabled_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: auto_devops_pipelines_28_days_user
      description: '{{ doc("auto_devops_pipelines_28_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: active_instance_runners_all_time_event
      description: '{{ doc("active_instance_runners_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: active_group_runners_all_time_event
      description: '{{ doc("active_group_runners_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: active_project_runners_all_time_event
      description: '{{ doc("active_project_runners_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: gitaly_version
      description: '{{ doc("gitaly_version_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: gitaly_servers_all_time_event
      description: '{{ doc("gitaly_servers_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: ci_internal_pipelines_28_days_event
      description: '{{ doc("ci_internal_pipelines_28_days_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: ci_builds_28_days_event
      description: '{{ doc("ci_builds_28_days_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: groups_all_time_event
      description: '{{ doc("groups_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: commit_ci_config_file_7_days_user
      description: '{{ doc("commit_ci_config_file_7_days_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: ci_pipeline_config_repository_all_time_user
      description: '{{ doc("ci_pipeline_config_repository_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: ci_pipeline_config_repository_all_time_event
      description: '{{ doc("ci_pipeline_config_repository_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: pipeline_schedules_all_time_event
      description: '{{ doc("pipeline_schedules_all_time_event_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: pipeline_schedules_all_time_user
      description: '{{ doc("pipeline_schedules_all_time_user_desc") }}'
      data_tests:
        - dbt_utils.at_least_one
    - name: is_missing_paid_seats
      description: Flags if there are currently active users, but no seats have been paid for
    - name: is_data_in_subscription_month
      description: Flags if there is either Subscription Seats data or Usage Ping data present in the given month for a given subscription
    - name: is_latest_data
      description: Flags the row with the most recently received data from Usage Ping
    - name: installation_creation_date
      description: '{{ doc("installation_creation_date") }}'
    - name: dim_installation_id
      description: '{{ doc("dim_installation_id") }}'

- name: rpt_event_xmau_metric_monthly_snapshot_model
  description: Simpler incremental version of the rpt_event_xmau_metric_monthly snapshot model
  columns:
    - name: xmau_metric_monthly_snapshot_id
      data_tests:
        - not_null
      tags: ["mnpi_exception","edm_snapshot", "product"]
      description: The unique composite ID for the rpt_event_xmau_metric_monthly_snapshot_model model consisting of snapshot_id and xmau_metric_monthly_id
    - name: snapshot_id
      description: '{{ doc("snapshot_id") }}'
    - name: snapshot_date
      description: '{{ doc("snapshot_date") }}'
    - name: xmau_metric_monthly_id
      description: The composite ID of a monthly xMAU metric in the rpt_xmau_metric_monthly model consisting of event_calendar_month, user_group, section_name, stage_name, and group_name
    - name: event_calendar_month
      description: '{{ doc("event_calendar_month") }}'
    - name: is_umau
      description: '{{ doc("is_umau") }}'
    - name: is_gmau
      description: '{{ doc("is_gmau") }}'
    - name: is_smau
      description: '{{ doc("is_smau") }}'
    - name: section_name
      description: '{{ doc("section_name") }}'
    - name: stage_name
      description: '{{ doc("stage_name") }}'
    - name: group_name
      description: '{{ doc("group_name") }}'
    - name: user_group
      description: '{{ doc("user_group") }}'
    - name: event_name_array
      description: '{{ doc("event_name_array") }}'
    - name: event_count
      description: '{{ doc("event_count") }}'
    - name: ultimate_parent_namespace_count
      description: '{{ doc("ultimate_parent_namespace_count") }}'
    - name: user_count
      description: '{{ doc("user_count") }}'
    - name: created_by
      description: '{{ doc("created_by") }}'
    - name: updated_by
      description: '{{ doc("updated_by") }}'
    - name: model_created_date
      description: '{{ doc("model_created_date") }}'
    - name: model_updated_date
      description: '{{ doc("model_updated_date") }}'
    - name: dbt_created_at
      description: '{{ doc("dbt_created_at_snapshot_model") }}'
    - name: dbt_scd_id
      description: '{{ doc("dbt_scd_id") }}'
    - name: dbt_updated_at
      description: '{{ doc("dbt_updated_at_snapshot_model") }}'
    - name: dbt_valid_from
      description: '{{ doc("dbt_valid_from") }}'
    - name: dbt_valid_to
      description: '{{ doc("dbt_valid_to") }}'

- name: rpt_ping_metric_totals_w_estimates_monthly_snapshot_model
  description: Simpler incremental version of the rpt_ping_metric_totals_w_estimates_monthly snapshot model
  columns:
    - name: ping_metric_totals_w_estimates_monthly_snapshot_id
      data_tests:
        - not_null
      tags: ["mnpi_exception","edm_snapshot", "product"]
      description: The unique composite ID for the rpt_ping_metric_totals_w_estimates_monthly_snapshot_model model consisting of snapshot_id and ping_metric_totals_w_estimates_monthly_id
    - name: snapshot_id
      description: '{{ doc("snapshot_id") }}'
    - name: snapshot_date
      description: '{{ doc("snapshot_date") }}'
    - name: ping_metric_totals_w_estimates_monthly_id
      description: The composite ID for the rpt_ping_metric_totals_w_estimates_monthly model consisting of ping_created_date_month, metrics_path, ping_edition, estimation_grain, ping_edition_product_tier, and ping_delivery_type
    - name: metrics_path
      description: '{{ doc("metrics_path") }}'
    - name: ping_created_date_month
      description: '{{ doc("ping_created_date_month") }}'
    - name: ping_delivery_type
      description: '{{ doc("ping_delivery_type") }}'
    - name: ping_edition
      description: '{{ doc("ping_edition") }}'
    - name: ping_product_tier
      description: '{{ doc("ping_product_tier") }}'
    - name: ping_edition_product_tier
      description: '{{ doc("ping_edition_product_tier") }}'
    - name: stage_name
      description: '{{ doc("stage_name") }}'
    - name: section_name
      description: '{{ doc("section_name") }}'
    - name: group_name
      description: '{{ doc("group_name") }}'
    - name: is_smau
      description: '{{ doc("is_smau") }}'
    - name: is_gmau
      description: '{{ doc("is_gmau") }}'
    - name: is_paid_gmau
      description: '{{ doc("is_paid_gmau") }}'
    - name: is_umau
      description: '{{ doc("is_umau") }}'
    - name: reporting_count
      description: '{{ doc("reporting_count_estimation_model") }}'
    - name: not_reporting_count
      description: '{{ doc("not_reporting_count_estimation_model") }}'
    - name: percent_reporting
      description: '{{ doc("percent_reporting_estimation_model") }}'
    - name: estimation_grain
      description: '{{ doc("estimation_grain") }}'
    - name: total_usage_with_estimate
      description: '{{ doc("total_usage_with_estimate") }}'
    - name: estimated_usage
      description: '{{ doc("estimated_usage") }}'
    - name: recorded_usage
      description: '{{ doc("recorded_usage_estimation_model") }}'
    - name: created_by
      description: '{{ doc("created_by") }}'
    - name: updated_by
      description: '{{ doc("updated_by") }}'
    - name: model_created_date
      description: '{{ doc("model_created_date") }}'
    - name: model_updated_date
      description: '{{ doc("model_updated_date") }}'
    - name: dbt_created_at
      description: '{{ doc("dbt_created_at_snapshot_model") }}'
    - name: dbt_scd_id
      description: '{{ doc("dbt_scd_id") }}'
    - name: dbt_updated_at
      description: '{{ doc("dbt_updated_at_snapshot_model") }}'
    - name: dbt_valid_from
      description: '{{ doc("dbt_valid_from") }}'
    - name: dbt_valid_to
      description: '{{ doc("dbt_valid_to") }}'

- name: rpt_product_navigation_base
  description: '{{ doc("rpt_product_navigation_base") }}'
  columns:
    - name: behavior_structured_event_pk
      data_tests:
        - unique:
            config:
              where: "behavior_at >= DATEADD('day',-3,CURRENT_DATE())"
      description: '{{ doc("behavior_structured_event_pk") }}'
    - name: behavior_at
      description: '{{ doc("behavior_at") }}'
    - name: behavior_date
      description: '{{ doc("behavior_date") }}'
    - name: dim_namespace_id
      description: '{{ doc("dim_namespace_id_behavior_model") }}'
    - name: dim_project_id
      description: '{{ doc("dim_project_id_behavior_model") }}'
    - name: app_id
      description: '{{ doc("app_id") }}'
    - name: gsc_pseudonymized_user_id
      description: '{{ doc("gsc_pseudonymized_user_id") }}'
    - name: gsc_plan
      description: '{{ doc("gsc_plan") }}'
    - name: user_snowplow_domain_id
      description: '{{ doc("user_snowplow_domain_id") }}'
    - name: gsc_source
      description: '{{ doc("gsc_source") }}'
    - name: event_value
      description: '{{ doc("event_value") }}'
    - name: event_action
      description: '{{ doc("event_action") }}'
    - name: event_category
      description: '{{ doc("event_category") }}'
    - name: event_property
      description: '{{ doc("event_property") }}'
    - name: event_label
      description: '{{ doc("event_label") }}'
    - name: ultimate_parent_namespace_id
      description: '{{ doc("dim_ultimate_parent_namespace_id") }}'
    - name: is_device_mobile
      description: '{{ doc("is_device_mobile") }}'
    - name: device_type
      description: '{{ doc("device_type") }}'
    - name: contexts
      description: '{{ doc("contexts") }}'
    - name: page_url_path
      description: '{{ doc("page_url_path") }}'
    - name: page_url_fragment
      description: '{{ doc("page_url_fragment") }}'
    - name: gsc_google_analytics_client_id
      description: '{{ doc("gsc_google_analytics_client_id") }}'
    - name: gsc_extra
      description: '{{ doc("gsc_extra") }}'
    - name: namespace_is_internal
      description: '{{ doc("namespace_is_internal") }}'
    - name: namespace_type
      description: '{{ doc("namespace_type") }}'
    - name: visibility_level
      description: '{{ doc("visibility_level") }}'
    - name: session_index
      description: '{{ doc("session_index") }}'
    - name: session_id
      description: '{{ doc("session_id") }}'
    - name: namespace_is_ultimate_parent
      description: '{{ doc("namespace_is_ultimate_parent") }}'
    - name: dim_behavior_referrer_page_sk
      description: '{{ doc("dim_behavior_referrer_page_sk") }}'
    - name: has_gitlab_service_ping_context
      description: '{{ doc("has_gitlab_service_ping_context") }}'
    - name: has_gitlab_experiment_context
      description: '{{ doc("has_gitlab_experiment_context") }}'
    - name: has_customer_standard_context
      description: '{{ doc("has_customer_standard_context") }}'
    - name: browser_name
      description: '{{ doc("browser_name") }}'
    - name: dim_behavior_browser_sk
      description: '{{ doc("dim_behavior_browser_sk") }}'
    - name: created_by
      description: '{{ doc("created_by") }}'
    - name: updated_by
      description: '{{ doc("updated_by") }}'
    - name: model_created_date
      description: '{{ doc("model_created_date") }}'
    - name: model_updated_date
      description: '{{ doc("model_updated_date") }}'

- name: rpt_webstore_subscription_purchase_flow_funnel_base
  description: This data model stores Snowplow events related to the purchases on the Webstore for GitLab.com. This dataset can be used to understand user purchase journeys in detail and run funnel analysis to commute metrics like conversion rate, drop-off points etc.
  columns:
    - name: behavior_structured_event_pk
      data_tests:
        - unique:
            config:
              where: "behavior_at >= DATEADD('day',-3,CURRENT_DATE())"
      description: '{{ doc("behavior_structured_event_pk") }}'
    - name: behavior_at
      description: '{{ doc("behavior_at") }}'
    - name: behavior_date
      description: '{{ doc("behavior_at") }}'
    - name: dim_namespace_id
      description: '{{ doc("dim_namespace_id_behavior_model") }}'
    - name: dim_project_id
      description: '{{ doc("dim_project_id_behavior_model") }}'
    - name: app_id
      description: '{{ doc("app_id") }}'
    - name: gsc_pseudonymized_user_id
      description: '{{ doc("gsc_pseudonymized_user_id") }}'
    - name: gsc_plan
      description: '{{ doc("gsc_plan") }}'
    - name: user_snowplow_domain_id
      description: '{{ doc("user_snowplow_domain_id") }}'
    - name: gsc_source
      description: '{{ doc("gsc_source") }}'
    - name: event_value
      description: '{{ doc("event_value") }}'
    - name: event_action
      description: '{{ doc("event_action") }}'
    - name: event_category
      description: '{{ doc("event_category") }}'
    - name: event_property
      description: '{{ doc("event_property") }}'
    - name: event_label
      description: '{{ doc("event_label") }}'
    - name: ultimate_parent_namespace_id
      description: '{{ doc("dim_ultimate_parent_namespace_id") }}'
    - name: is_device_mobile
      description: '{{ doc("is_device_mobile") }}'
    - name: device_type
      description: '{{ doc("device_type") }}'
    - name: contexts
      description: '{{ doc("contexts") }}'
    - name: page_url_path
      description: '{{ doc("page_url_path") }}'
    - name: page_url_fragment
      description: '{{ doc("page_url_fragment") }}'
    - name: gsc_google_analytics_client_id
      description: '{{ doc("gsc_google_analytics_client_id") }}'
    - name: gsc_extra
      description: '{{ doc("gsc_extra") }}'
    - name: namespace_is_internal
      description: '{{ doc("namespace_is_internal") }}'
    - name: namespace_type
      description: '{{ doc("namespace_type") }}'
    - name: visibility_level
      description: '{{ doc("visibility_level") }}'
    - name: session_index
      description: '{{ doc("session_index") }}'
    - name: session_id
      description: '{{ doc("session_id") }}'
    - name: namespace_is_ultimate_parent
      description: '{{ doc("namespace_is_ultimate_parent") }}'
    - name: dim_behavior_referrer_page_sk
      description: '{{ doc("dim_behavior_referrer_page_sk") }}'
    - name: has_gitlab_service_ping_context
      description: '{{ doc("has_gitlab_service_ping_context") }}'
    - name: has_gitlab_experiment_context
      description: '{{ doc("has_gitlab_experiment_context") }}'
    - name: has_customer_standard_context
      description: '{{ doc("has_customer_standard_context") }}'
    - name: browser_name
      description: '{{ doc("browser_name") }}'
    - name: dim_behavior_browser_sk
      description: '{{ doc("dim_behavior_browser_sk") }}'
    - name: created_by
      description: '{{ doc("created_by") }}'
    - name: updated_by
      description: '{{ doc("updated_by") }}'
    - name: model_created_date
      description: '{{ doc("model_created_date") }}'
    - name: model_updated_date
      description: '{{ doc("model_updated_date") }}'

- name: rpt_namespace_onboarding
  description: '{{ doc("rpt_namespace_onboarding") }}'
  data_tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - ultimate_parent_namespace_id
  columns:
    - name: ultimate_parent_namespace_id
      description: '{{ doc("dim_ultimate_parent_namespace_id") }}'
      data_tests:
        - not_null
    - name: namespace_created_at
      description: '{{ doc("namespace_created_at") }}'
    - name: namespace_created_date
      description: '{{ doc("namespace_created_date") }}'
    - name: namespace_created_month
      description: The month of the ultimate parent namespace creation.
    - name: namespace_created_week
      description: The week of the ultimate parent namespace creation.
    - name: creator_id
      description: The user identifier of the ultimate parent namespace creator.
    - name: sfdc_record_id
      description: Functional analytics team owner is Marketing Analytics. Is the SFDC ID of namespace creator. This could be either a lead or contact in SFDC. Joined from dim_crm_person 
    - name: namespace_type
      description: '{{ doc("ultimate_parent_namespace_type") }}'
    - name: setup_for_company
      description: User level setting of the ultimate parent namespace creator.
    - name: visibility_level
      description: '{{ doc("visibility_level") }}'
    - name: current_gitlab_plan_id
      description: gitlab_plan_id of the ultimate parent namespace from common.dim_namespace
    - name: current_gitlab_plan_title
      description: Cleaned plan name plan_name_modified from common_prep.prep_gitlab_dotcom_plan
    - name: current_project_count
      description: The number of projects that are presently associated with the namespace.
    - name: days_since_namespace_creation
      description: Days since namespace creation when model was last refreshed. This can be used to filter by ultimate parent namespace maturity.
    - name: handraise_pql_date
      description: Date of 'Hand Raise PQL' product_interation from customers_db_leads
    - name: is_namespace_created_within_2min_of_creator_invite_acceptance
      description: Creator invite accepted at timestamp within 2min of creating the ultimate parent namespace. This can be used to filter out namespaces that may have lower intent to purchase.
    - name: trial_start_date
      description: First trial start date associated with the ultimate parent namespace from customers_db_trial_histories.
    - name: trial_type
      description: Indicates the type of trial offering, such as Premium/Ultimate subscription or GitLab Duo Pro add-on. This is type 1 by default.
    - name: trial_type_name
      description: Specifies the name of the trial offering type. The value 1 corresponds to Premium/Ultimate trials.
    - name: days_since_namespace_creation_at_trial
      description: Date difference in days between ultimate parent namespace creation and trial type 1 start.
    - name: trial_2_start_date
      description: Trial type 2's start date associated with the ultimate parent namespace from customers_db_trial_histories.
    - name: trial_2_type
      description: Indicates the type of trial offering, such as Premium/Ultimate subscription or GitLab Duo Pro add-on. This is type 2 by default.
    - name: trial_2_type_name
      description: Specifies the name of the trial offering type. The value 2 corresponds to GitLab Duo Pro Trial.
    - name: days_since_namespace_creation_at_trial_2
      description: Date difference in days between ultimate parent namespace creation and trial type 2 start.
    - name: first_paid_subscription_start_date
      description: Date of first paid ultimate parent namespace subscription from mart_charge model.
    - name: days_since_namespace_creation_at_first_paid_subscription
      description: Date difference in days between ultimate parent namespace creation and first paid subscription from mart_charge model.
    - name: first_paid_plan_name
      description: Name of plan associated with first paid ultimate parent namespace subscription from mart_charge model. 
    - name: is_first_paid_plan_purchased_through_subscription_portal
    - name: days_since_namespace_creation_at_activation_event 
      description: Date difference in days between ultimate parent namespace creation and first team activation event. 
    - name: activation_event_array 
      description: Aggregated array of all team activation events triggered within 14 days of ultimate parent namespace creation.
    - name: acitivity_between_d60_d90
      description: Boolean indicating any Gitlab.com event from postgres replica events triggered between 60 and 90 days post namespace creation.
    - name: creator_is_valuable_signup 
      description: Ultimate parent namespace creator signed up for Gitlab.com using a business email domain.
    - name: namespace_contains_valuable_signup
      description: Any billable member of the ultimate parent namespace signed up for Gitlab.com using a business email domain.
    - name: has_team_activation
      description: Boolean indicating that any team activation events were triggered within 14 days.
    - name: namespace_creator_role 
      description: Role selected by the creator of the ultimate parent namespace. 
    - name: namespace_creator_jtbd
      description: JTBD selected indicated by the creator of the ultimate parent namespace.  
    - name: namespace_creator_is_first_order_person
      description: Functional analytics team owner is Marketing Analytics. Is First Order field from the lead and contact model in SFDC joined from dim_crm_person through dim_marketing_contact. When this value is true, the creator of the namespace is a first order person in SFDC right now. This join is ultimately is created by matching email addresses.
    - name: days_since_namespace_creation_at_first_plan_event_date
      description: Date difference in days between ultimate parent namespace creation and first Gitlab.com event triggered in Stage. This does not include events triggered in Learn GitLab projects.
    - name: days_since_namespace_creation_at_first_secure_event_date
      description: Date difference in days between ultimate parent namespace creation and first Gitlab.com event triggered in Stage. This does not include events triggered in Learn GitLab projects.
    - name: days_since_namespace_creation_at_first_create_event_date
      description:  Date difference in days between ultimate parent namespace creation and first Gitlab.com event triggered in Stage. This does not include events triggered in Learn GitLab projects.
    - name: days_since_namespace_creation_at_first_verify_event_date
      description: Date difference in days between ultimate parent namespace creation and first Gitlab.com event triggered in Stage. This does not include events triggered in Learn GitLab projects.
    - name: days_since_namespace_creation_at_first_release_event_date
      description: Date difference in days between ultimate parent namespace creation and first Gitlab.com event triggered in Stage. This does not include events triggered in Learn GitLab projects.
    - name: days_since_latest_plan_event_date
      description: Date difference in days between ultimate parent namespace creation and latest Gitlab.com event triggered in Stage. This does not include events triggered in Learn GitLab projects.
    - name: days_since_latest_secure_event_date
      description: Date difference in days between ultimate parent namespace creation and latest Gitlab.com event triggered in Stage. This does not include events triggered in Learn GitLab projects.
    - name: days_since_latest_create_event_date 
      description: Date difference in days between ultimate parent namespace creation and latest Gitlab.com event triggered in Stage. This does not include events triggered in Learn GitLab projects.
    - name: days_since_latest_verify_event_date
      description: Date difference in days between ultimate parent namespace creation and latest Gitlab.com event triggered in Stage. This does not include events triggered in Learn GitLab projects.
    - name: days_since_latest_release_event_date
      description: Date difference in days between ultimate parent namespace creation and latest Gitlab.com event triggered in Stage. This does not include events triggered in Learn GitLab projects.
    - name: stage_adoption_order
      description: Aggregation of Stage events adopted in the order that they were initially triggered. This does not include events triggered in Learn GitLab projects.
    - name: total_stages_adopted
      description: Unique count of product stages adopted all time.
    - name: current_billable_member_count
      description: Count of users with membership to the ultimate parent namespace where is_billable = True.
    - name: current_month_storage_gib  
      description: Ultimate parent namespace's current month storage_gib from fct_usage_storage.
    - name: first_activity_date  
      description: Date of first event triggered in Gitlab.com.
    - name: latest_activity_date 
      description: Date of latest event triggered in Gitlab.com.
    - name: team_activation_date 
      description: First date any team activation event was triggered.
    - name: dbt_updated_at
    - name: dbt_created_at
    - name: lead_score_classification
      description: The Salesforce grade of the lead score for a lead/contact. 
    - name: is_defaulted_trial
      description: Boolean value of whether or not a lead/contact was defaulted to a trial.

- name: rpt_product_usage_health_score
  description: '{{ doc("rpt_product_usage_health_score") }}'
  columns:
    - name: snapshot_month
      data_tests:
        - not_null
      description: Month in which the product usage was reported.
    - name: primary_key
      data_tests:
        - unique
        - not_null
      description: Unique ID for the common_mart_product.mart_product_usage_paid_user_metrics_monthly table for each row of usage data. This field can be used to join to the common_mart_product.mart_product_usage_paid_user_metrics_monthly table to pull in additional usage metrics that are not used for use case adoption scoring
    - name: crm_account_name
      description: The name of the account as it appears in Salseforce
    - name: dim_crm_account_id
      data_tests:
        - not_null
      description: '{{ doc("dim_crm_account_id") }}'
    - name: customer_since_date
      description: The date this account first became a customer, the customer_since_date from the dim_crm_account table
    - name: account_age_months
      description: The number of months between the customer_since_date and the snapshot_month
    - name: subscription_age_months
      description: The number of months between subscription_start_date and the snapshot_month
    - name: combined_instance_creation_date
      description: The date the instance was created. This field coalesces installation_creation_date and namespace_creation_date to create one common field of instnace creation date for SaaS and Self-Managed instances
    - name: instance_age_days
      description: The number of days between combined_instance_creation_date and ping_created_at. The age of the instance in days at any given ping_created_at date
    - name: instance_age_months
      description: The number of months between combined_instance_creation_date and ping_created_at. The age of the instance in months at any given ping_created_at date
    - name: subscription_start_date
      description: The start date of the subscription. This is the start date for any given dim_subscription_id_original
    - name: subscription_name
      description: The name of the subscription as it appears in Zuora
    - name: dim_subscription_id_original 
      data_tests: 
        - not_null
      description: Unique identifier of a subscription, does not change when amendments are made to the subscription. This ID will have multiple dim_subscription_id values associated with it for each version of the original subscription
    - name: dim_subscription_id 
      data_tests: 
        - not_null
      description: Unique identifier of a version of a subscription
    - name: ultimate_subscription_flag
      description: This field is a flag that designates if a subscription is an ultimate subscription or not. 1 = Ultimate subscription, 0 = Non-Ultimate subscription
    - name: is_oss_program
      description: This field is a flag that designates if a subscription is an OSS program or not. True = OSS Subscription, False = Not an OSS Subscription
    - name: delivery_type 
      data_tests: 
        - not_null
      description: '{{ doc("product_delivery_type") }}'
    - name: deployment_type 
      data_tests: 
        - not_null
      description: '{{ doc("ping_deployment_type") }}'
    - name: instance_type
      description: The type of instance this record belongs to. Possible values are Production, Non-Production, Unknown, Obsolete, Geo Secondary Node, or null. This value is manually set by CSMs in Gainsight and then sent to Snowflake by an S3 bucket
    - name: included_in_health_measures_str
      description: This field indicates whether the instance should be used as the primary instace for Gainsight Scorecards. This field is only used when there are multiple Production instances for a given account. This value is manually set by CSMs in Gainsight and then sent to Snowflake by an S3 bucket
    - name: uuid
      description: '{{ doc("uuid_ping_model") }}'
    - name: hostname
      description: '{{ doc("host_name") }}'
    - name: dim_namespace_id
      description: The namespace ID of the instance (SaaS only)
    - name: dim_installation_id
      description: '{{ doc("dim_installation_id") }}'
    - name: instance_identifier
      description: Either the dim_installation_id for Self-Managed instances or the dim_namespace_id for SaaS instances. This field is the unique identifier for instances/installations for all customers (Self-Manged and SaaS)
    - name: hostname_or_namespace_id
      description: Either the hostname for Self-Managed instances or the dim_namespace_id for SaaS instances. This field is mainly used for reporting purposes in order to avoid having to use both the hostname and dim_namespace_id fields
    - name: ping_created_at
      description: '{{ doc("ping_created_at") }}'
    - name: cleaned_version
      description: '{{ doc("cleaned_version") }}'
    - name: license_utilization
      description: The percentage of licenses sold that have been deployed (billable_user_count divided by license_user_count)
    - name: billable_user_count
      description: '{{ doc("license_billable_users") }}'
    - name: license_user_count
      description: '{{ doc("license_user_count") }}'
    - name: license_user_count_source
      description: The source that is populating the license_user_count value. Possible values are Zuora, gitlabdotcom, or Service Ping
    - name: license_utilization_score
      description: The score value (number) for License Utilization that is used by Gainsight for scorecard colors. This field will either be 25, 63, or 88 which reflect red, yellow, and green respectively. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#license-utilization
    - name: license_utilization_color
      description: The color of the score for License Utilization either Red, Yellow, or Green. This color will match what is displayed in Gainsight. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#license-utilization
    - name: last_activity_28_days_user
      description: '{{ doc("last_activity_28_days_user_desc") }}'
    - name: user_engagement
      description: The percentage of billable users who have performed an activity within the past 28 days (last_activity_28_days_user divided by billable_user_count)
    - name: user_engagement_score
      description: The score value (number) for User Engagement that is used by Gainsight for scorecard colors. This field will either be 25, 63, or 88 which reflect red, yellow, and green respectively. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#user-engagement
    - name: user_engagement_color
      description: The color of the score for User Engagement either Red, Yellow, or Green. This color will match what is displayed in Gainsight. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#user-engagement
    - name: action_monthly_active_users_project_repo_28_days_user_clean
      description: Count of monthly active users who have performed any Git operation (red/write/push). This metric is used to calculate git_operation_utilization for the SCM Use Case Adoption Score. The Metrics Dictionary page for this metric is https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210216182040_action_monthly_active_users_project_repo.yml
    - name: git_operation_utilization
      description: The percentage of billable users who have performed any Git operation (read/write/push) within the past 28 days (action_monthly_active_users_project_repo_28_days_user_clean divided by billable_user_count)
    - name: scm_score
      description: The score value (number) for the SCM Use Case Adoption Score that is used by Gainsight for scorecard colors. This field is based on git_operation_utilization and will either be 25, 63, or 88 which reflects red, yellow, and green respectively. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#source-code-management-scm
    - name: scm_color
      description: The color of the score for the SCM Use Case Adoption Score either Red, Yellow, or Green. This color will match what is displayed in Gainsight. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#source-code-management-scm
    - name: ci_pipelines_28_days_user
      description: '{{ doc("ci_pipelines_28_days_user_desc") }}'
    - name: ci_pipeline_utilization
      description: The percentage of billable users who have triggered a pipeline within the past 28 days (ci_pipelines_28_days_user divided by billable_user_count)
    - name: ci_pipeline_utilization_score
      description: The score value (number) for ci_pipeline_utilization that is used by Gainsight for calculating the CI Use Case Adoption Score. This field is based on ci_pipeline_utilization and will either be 25, 63, or 88 which reflects red, yellow and green respectively. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#continuous-integration-ci
    - name: ci_pipeline_utilization_color
      description: The color of the score for ci_pipeline_utilization either Red, Yellow, or Green. This color will match what is displayed in Gainsight. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#continuous-integration-ci
    - name: ci_score
      description: The score value (number) for the CI Use Case Adoption Score that is used by Gainsight for the scorecard colors. This field is based on ci_pipeline_utilization and will either be 25, 63, or 88 which reflects red, yellow, and green respectively. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#continuous-integration-ci
    - name: ci_color
      description: The color of the score for the CI Use Case Adoption Score either Red, Yellow, or Green. This color will match what is displayed in Gainsight. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#continuous-integration-ci
    - name: deployments_28_days_user
      description: Unique users triggering deployments in the past 28 days. This metric is used to calculate deployments_utilization for the CD Use Case Adoption Score. The Metrics Dictionary page for this metric is https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210216181935_deployments.yml
    - name: deployments_28_days_event
      description: Total deployments count for recent 28 days. This metric is used to calculate deployments_per_user_l28d for the CD Use Case Adoption Score. The Metrics Dictionary page for this metric is https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210201124930_deployments.yml
    - name: successful_deployments_28_days_event
      description: '{{ doc("successful_deployments_28_days_event_desc") }}'
    - name: failed_deployments_28_days_event
      description: '{{ doc("failed_deployments_28_days_event_desc") }}'
    - name: completed_deployments_l28d
      description: The number of deployments completed in the past 28 days (successful_deployments_28_days_event plus failed_deployments_28_days_event). This metric is used to calculate successful_deployments_pct for the CD Use Case Adoption Score. 
    - name: deployments_utilization
      description: The percentage of billable users who have triggered a deployment within the past 28 days (deployments_28_days_user divided by billable_user_count)
    - name: deployments_utilization_score
      description: The score value (number) for deployments_utilization that is used in calculating the CD Use Case Adoption Score. This field is based on deployments_utilization and will either be 25, 63, or 88 which reflect red, yellow, and green respectively. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#continuous-deployment-cd
    - name: deployments_utilization_color
      description: The color of the score for deployments_utilization either Red, Yellow, or Green. This color will match what is displayed in Gainsight. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#continuous-deployment-cd
    - name: deployments_per_user_l28d
      description: The number of deployments per billable user within the past 28 days (deployments_28_days_event divided by billable_user_count)
    - name: deployments_per_user_l28d_score
      description: The score value (number) for deployments_per_user_l28d that is used in calculating the CD Use Case Adoption Score. This field is based on deployments_per_user_l28d and will either be 25, 63, or 88 which reflect red, yellow, and green respectively. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#continuous-deployment-cd
    - name: deployments_per_user_l28d_color
      description: The color of the score for deployments_per_user_l28d either Red, Yellow, or Green. This color will match what is displayed in Gainsight. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#continuous-deployment-cd
    - name: successful_deployments_pct
      description: The percentage of completed deployments that were successful in the past 28 days (successful_deployments_28_days_event divided by completed_deployments_l28d)
    - name: successful_deployments_pct_score
      description: The score value (number) for successful_deployments_pct that is used by Gainsight for calculating the CD Use Case Adoption Score. This field is based on successful_deployments_pct and will either be 25, 63, or 88 which reflect red, yellow, and green respectively. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#continuous-deployment-cd
    - name: successful_deployments_pct_color
      description: The color of the score for successful_deployments_pct either Red, Yellow, or Green. This color will match what is displayed in Gainsight. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#continuous-deployment-cd
    - name: cd_measure_count
      description: The count of non-null scores for CD metrics (deployments_utilization_score, deployments_per_user_l28d_score, and successful_deployments_pct_score). This field is used as the denominator in cd_score so that all metrics are weighted evenly in the CD Use Case Adoption Score without null scores affecting the weighting 
    - name: cd_score
      description: The score value (number) for the CD Use Case Adoption Score that is used by Gainsight for the scorecard colors. This field is based on deployments_utilization, deployments_per_user_l28d, and successful_deployments_pct and will either be 25, 63, or 88 which reflects red, yellow, and green respectively. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#continuous-deployment-cd
    - name: cd_color
      description: The color of the score for the CD Use Case Adoption Score either Red, Yellow, or Green. This color will match what is displayed in Gainsight. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#continuous-deployment-cd
    - name: user_unique_users_all_secure_scanners_28_days_user
      description: The count of users creating secure scanners ci builds. This metric is used to calculate secure_scanners_utilization for the Security Use Case Adoption Score. The Metrics Dictionary page for this metric is https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/config/metrics/counts_28d/20210216181956_user_unique_users_all_secure_scanners.yml
    - name: ci_internal_pipelines_28_days_event
      description: '{{ doc("ci_internal_pipelines_28_days_event_desc") }}'
    - name: secret_detection_scans_28_days_event
      description: '{{ doc("secret_detection_scans_28_days_event_desc") }}'
    - name: dependency_scanning_scans_28_days_event
      description: '{{ doc("dependency_scanning_scans_28_days_event_desc") }}'
    - name: container_scanning_scans_28_days_event
      description: '{{ doc("container_scanning_scans_28_days_event_desc") }}'
    - name: dast_scans_28_days_event
      description: '{{ doc("dast_scans_28_days_event_desc") }}'
    - name: sast_scans_28_days_event
      description: '{{ doc("sast_scans_28_days_event_desc") }}'
    - name: coverage_fuzzing_scans_28_days_event
      description: '{{ doc("coverage_fuzzing_scans_28_days_event_desc") }}'
    - name: api_fuzzing_scans_28_days_event
      description: '{{ doc("api_fuzzing_scans_28_days_event_desc") }}'
    - name: sum_of_all_scans_l28d
      description: The sum of security scans run in the past 28 days that are either Secret Detection, Dependency Scanning, Container Scanning, DAST, SAST, Coverage Fuzzing, or API Fuzzing. This metric is used to calculate average_scans_per_pipeline for the Security Use Case Adoption Score
    - name: secret_detection_scan_percentage
      description: The percentage of security scans that were Secret Detection in the past 28 days (secret_detection_scans_28_days_event divided by sum_of_all_scans_l28d)
    - name: dependency_scanning_scan_percentage
      description: The percentage of security scans that were Dependency Scanning in the past 28 days (dependency_scanning_scans_28_days_event divided by sum_of_all_scans_l28d)
    - name: container_scanning_scan_percentage
      description: The percentage of security scans that were Container Scanning in the past 28 days (container_scanning_scans_28_days_event divided by sum_of_all_scans_l28d)
    - name: dast_scan_percentage
      description: The percentage of security scans that were DAST in the past 28 days (dast_scans_28_days_event divided by sum_of_all_scans_l28d)
    - name: sast_scan_percentage
      description: The percentage of security scans that were SAST in the past 28 days (sast_scans_28_days_event divided by sum_of_all_scans_l28d)
    - name: coverage_fuzzing_scan_percentage
      description: The percentage of security scans that were Coverage Fuzzing in the past 28 days (coverage_fuzzing_scans_28_days_event divided by sum_of_all_scans_l28d)
    - name: api_fuzzing_scan_percentage
      description: The percentage of security scans that were API Fuzzing in the past 28 days (api_fuzzing_scans_28_days_event divided by sum_of_all_scans_l28d)
    - name: secure_scanners_utilization
      description: The percentage of billable users creating secure scanners ci builds within the last 28 days (user_unique_users_all_secure_scanners_28_days_user divided billable_user_count)
    - name: secure_scanners_utilization_score
      description: The score value (number) for secure_scanners_utilization that is used by Gainsight for calculating the Security Use Case Adoption Score. This field is based on secure_scanners_utilization and will either be 25, 63, or 88 which reflect red, yellow, and green respectively. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#security-devsecops
    - name: secure_scanners_utilization_color 
      description: The color of the score for secure_scanners_utilization either Red, Yellow, or Green. This color will match what is displayed in Gainsight. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#security-devsecops
    - name: average_scans_per_pipeline 
      description: The average number of security scans per internal CI pipeline in the past 28 days (sum_of_all_scans_l28d divided by ci_internal_pipelines_28_days_event)
    - name: average_scans_per_pipeline_score 
      description: The score value (number) for average_scans_per_pipeline that is used by Gainsight for calculating the Security Use Case Adoption Score. This field is based on average_scans_per_pipeline and will either be 25, 63, or 88 which reflect red, yellow and green respectively. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#security-devsecops
    - name: average_scans_per_pipeline_color 
      description: The color of the score for average_scans_per_pipeline either Red, Yellow, or Green. This color will match what is displayed in Gainsight. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#security-devsecops
    - name: secret_detection_usage_flag 
      description: This field is a flag for if Secret Detection security scans are being used. If secret_detection_scans_28_days_event is > 0 then 1 otherwise 0. This field is then used to calculate number_of_scanner_types
    - name: dependency_scanning_usage_flag 
      description: This field is a flag for if Dependency Scanning security scans are being used. If dependency_scanning_scans_28_days_event is > 0 then 1 otherwise 0. This field is then used to calculate number_of_scanner_types
    - name: container_scanning_usage_flag 
      description: This field is a flag for if Container Scanning security scans are being used. If container_scanning_scans_28_days_event is > 0 then 1 otherwise 0. This field is then used to calculate number_of_scanner_types
    - name: dast_usage_flag 
      description: This field is a flag for if DAST security scans are being used. If dast_scans_28_days_event is > 0 then 1 otherwise 0. This field is then used to calculate number_of_scanner_types
    - name: sast_usage_flag 
      description: This field is a flag for if SAST security scans are being used. If sast_scans_28_days_event is > 0 then 1 otherwise 0. This field is then used to calculate number_of_scanner_types
    - name: coverage_fuzzing_usage_flag 
      description: This field is a flag for if Coverage Fuzzing security scans are being used. If coverage_fuzzing_scans_28_days_event is > 0 then 1 otherwise 0. This field is then used to calculate number_of_scanner_types
    - name: api_fuzzing_usage_flag 
      description: This field is a flag for if API Fuzzing security scans are being used. If api_fuzzing_scans_28_days_event is > 0 then 1 otherwise 0. This field is then used to calculate number_of_scanner_types
    - name: number_of_scanner_types 
      description: The number of security scan types being used in the past 28 days that are either Secret Detection, Dependency Scanning, Container Scanning, DAST, SAST, Coverage Fuzzing, or API Fuzzing (secret_detection_usage_flag + dependency_scanning_usage_flag + container_scanning_usage_flag + dast_usage_flag + sast_usage_flag + coverage_fuzzing_usage_flag + api_fuzzing_usage_flag) 
    - name: number_of_scanner_types_score 
      description: The score value (number) for number_of_scanner_types that is used by Gainsight for calculating the Security Use Case Adoption Score. This field is based on number_of_scanner_types and will either be 25, 63, or 88 which reflect red, yellow, and green respectively. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#security-devsecops
    - name: number_of_scanner_types_color 
      description: The color of the score for number_of_scanner_types either Red, Yellow, or Green. This color will match what is displayed in Gainsight. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#security-devsecops
    - name: security_measure_count 
      description: The count of non-null scores for Security metrics (secure_scanners_utilization, average_scans_per_pipeline, and number_of_scanner_types). This field is used as the denominator in security_score so that all metrics are weighted evenly in the Security Use Case Adoption Score without null scores affecting the weighting 
    - name: security_score 
      description: The score value (number) for the Security Use Case Adoption Score that is used by Gainsight for the scorecard colors. This field is based on secure_scanners_utilization, average_scans_per_pipeline, and number_of_scanner_types and will either be 25, 63, or 88 which reflects red, yellow, and green respectively. This field will populate for all subscription types so that there is visibility into Security usage for Non-Ultimate subscriptions but only Ultimate subscriptions are scored on the Security Use Case for Gainsight scorecards and any Platform Adoption reporting/analysis. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#security-devsecops
    - name: security_color 
      description: The color of the score for the Security Use Case Adoption Score either Red, Yellow, or Green. This color will match what is displayed in Gainsight. This field will populate for all subscription types so that there is visibility into Security usage for Non-Ultimate subscriptions but only Ultimate subscriptions are scored on the Security Use Case for Gainsight scorecards and any Platform Adoption reporting/analysis. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#security-devsecops
    - name: security_score_ultimate_only 
      description: This is the same as security_score but will be null for all Non-Ultimate subscriptions. This is the source of truth for Security Use Case Adoption Scoring and is used by Gainsight. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#security-devsecops
    - name: security_color_ultimate_only 
      description: This is the same as security_color but will be null for all Non-Ultimate subscriptions. This is the source of truth for Security Use Case Adoption Scoring. The criteria for how this score is calculated can be found here https://about.gitlab.com/handbook/customer-success/product-usage-data/use-case-adoption/#security-devsecops
    - name: license_utilization_weight 
      description: This field is used to calculate the weighting of License Utilization in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: user_engagement_weight 
      description: This field is used to calculate the weighting of User Engagement in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: scm_weight 
      description: This field is used to calculate the weighting of SCM in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: ci_weight 
      description: This field is used to calculate the weighting of CI in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: cd_weight 
      description: This field is used to calculate the weighting of CD in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: security_weight 
      description: This field is used to calculate the weighting of Security in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: remaining_weight 
      description: This field is used in calculating the weights of License Utilization, User Engagement, SCM, CI, CD, and Security in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: adjusted_license_utilization_weight 
      description: This field is used to calculate the weighting of License Utilization in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: adjusted_user_engagement_weight 
      description: This field is used to calculate the weighting of User Engagement in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: adjusted_scm_weight 
      description: This field is used to calculate the weighting of SCM in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: adjusted_ci_weight 
      description: This field is used to calculate the weighting of CI in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: adjusted_cd_weight 
      description: This field is used to calculate the weighting of CD in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: adjusted_security_weight 
      description: This field is used to calculate the weighting of Security in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: adjusted_license_utilization_score 
      description: This field is used to calculate the weighting of License Utilization in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: adjusted_user_engagement_score 
      description: This field is used to calculate the weighting of User Engagement in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: adjusted_scm_score 
      description: This field is used to calculate the weighting of SCM in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: adjusted_ci_score 
      description: This field is used to calculate the weighting of CI in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: adjusted_cd_score 
      description: This field is used to calculate the weighting of CD in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: adjusted_security_score 
      description: This field is used to calculate the weighting of Security in the Overall Product Score without null scores affecting the weighting. This is only relevant to Gainsight
    - name: overall_product_score 
      description: This is the score value (number) for the Overall Product Score. This field mimics how Gainsight sets the Overall Product Score
    - name: overall_product_color 
      description: This is the color of the overall_product_score either Red, Yellow, or Green. This color will match what is displayed in Gainsight for the color of the Overall Product Score. If the overall_product_score is <= 50 then Red, > 50 and <= 75 then Yellow, > 75 then Green
    - name: scm_adopted 
      description: This field is a flag for if the SCM Use Case has been adopted. If the scm_color field is Green then 1 otherwise 0
    - name: ci_adopted 
      description: This field is a flag for if the CI Use Case has been adopted. If the ci_color field is Green then 1 otherwise 0
    - name: cd_adopted 
      description: This field is a flag for if the CD Use Case has been adopted. If the cd_color field is Green then 1 otherwise 0
    - name: security_adopted 
      description: This field is a flag for if the Security Use Case has been adopted. If the security_color_ultimate_only field is Green then 1 otherwise 0
    - name: total_use_cases_adopted 
      description: The total number of Use Cases that are considered adopted. This is the sum of scm_adopted, ci_adopted, cd_adopted, and security_adopted
    - name: adopted_use_case_names_array 
      description: An array field that lists out the names of the Use Cases that are considered adopted
    - name: adopted_use_case_names_string 
      description: A string field that lists out the names of the Use Cases that are considered adopted
    - name: is_primary_instance_subscription
      description: A flag to indicate if the subscription is being received from a primary production instance or not
    - name: ci_color_previous_month
      description: CI use case adoption color on previous month 
    - name: ci_color_previous_3_month
      description: CI use case adoption color on previous 3 months 
    - name: ci_pipeline_utilization_previous_month
      description: CI pipeline utilization % previous months 
    - name: ci_pipeline_utilization_previous_3_month
      description: CI pipeline utilization % previous 3 months 
    - name: scm_color_previous_month
      description: SCM use case adoption color on previous month 
    - name: scm_color_previous_3_month
      description: SCM use case adoption color on previous 3 months 
    - name: cd_color_previous_month
      description: CD use case adoption color on previous month 
    - name: cd_color_previous_3_month
      description: CD use case adoption color on previous 3 months 
    - name: security_color_previous_month
      description: Security use case adoption color on previous month 
    - name: security_color_previous_3_month
      description: Security use case adoption color on previous 3 months 
    - name: created_by 
      description: The GitLab user who created this model
    - name: updated_by 
      description: The GitLab user who most recently updated this model
    - name: model_created_date 
      description: The date this model was created 
    - name: model_updated_date 
      description: The date of the most recent update to this model
    - name: dbt_updated_at 
      description: The timestamp of when this model was last built/refreshed      

- name: rpt_behavior_code_suggestion_outcome
  description: '{{ doc("rpt_behavior_code_suggestion_outcome") }}'
  columns:
    - name: suggestion_id
      description: '{{ doc("code_suggestions_suggestion_id")}} '
      data_tests:
        - not_null
        - unique
    - name: language
      description: '{{ doc("code_suggestions_language") }}'
    - name: delivery_type
      description: ' {{ doc("product_delivery_type") }}'
      accepted_values:
        values: ['Self-Managed', 'SaaS']
    - name: model_engine
      description: '{{ doc("code_suggestions_model_engine") }}'
    - name: model_name
      description: '{{ doc("code_suggestions_model_name") }}'
    - name: prefix_length
      description: '{{ doc("code_suggestions_prefix_length") }}'
    - name: suffix_length
      description: '{{ doc("code_suggestions_suffix_length") }}'
    - name: is_streaming
      description: '{{ doc("code_suggestions_is_streaming") }}'
    - name: extension_name
      description: '{{ doc("extension_name") }}'
    - name: extension_version
      description: '{{ doc("extension_version") }}'
    - name: ide_name
      description: '{{ doc("ide_name") }}'
    - name: ide_vendor
      description: '{{ doc("ide_vendor") }}'
    - name: ide_version
      description: '{{ doc("ide_version") }}'
    - name: language_server_version
      description: '{{ doc("language_server_version") }}'
    - name: requested_at
      description: '{{ doc("code_suggestions_requested_at")}} '
    - name: loaded_at
      description: '{{ doc("code_suggestions_loaded_at")}} '
    - name: shown_at
      description: '{{ doc("code_suggestions_shown_at")}} '
    - name: accepted_at
      description: '{{ doc("code_suggestions_accepted_at")}} '
    - name: rejected_at
      description: '{{ doc("code_suggestions_rejected_at")}} '
    - name: cancelled_at
      description: '{{ doc("code_suggestions_cancelled_at")}} '
    - name: not_provided_at
      description: '{{ doc("code_suggestions_not_provided_at")}} '
    - name: error_at
      description: '{{ doc("code_suggestions_error_at")}} '
    - name: load_time_in_ms
      description: '{{ doc("code_suggestions_load_time_in_ms")}} '
    - name: display_time_in_ms
      description: '{{ doc("code_suggestions_display_time_in_ms")}} '
    - name: suggestion_outcome
      description: '{{ doc("code_suggestions_suggestion_outcome")}} '
    - name: was_requested
      description: '{{ doc("code_suggestions_was_requested")}} '
    - name: was_loaded
      description: '{{ doc("code_suggestions_was_loaded")}} '
    - name: was_shown
      description: '{{ doc("code_suggestions_was_shown")}} '
    - name: was_accepted
      description: '{{ doc("code_suggestions_was_accepted")}} '
    - name: was_rejected
      description: '{{ doc("code_suggestions_was_rejected")}} '
    - name: was_cancelled
      description: '{{ doc("code_suggestions_was_cancelled")}} '
    - name: was_not_provided
      description: '{{ doc("code_suggestions_was_not_provided")}} '
    - name: was_error
      description: '{{ doc("code_suggestions_was_error")}} '
    - name: was_stream_started
      description: '{{ doc("code_suggestions_was_stream_started") }}'
    - name: was_stream_completed
      description: '{{ doc("code_suggestions_was_stream_completed") }}'
    - name: created_by
      description: '{{ doc("created_by") }}'
    - name: updated_by
      description: '{{ doc("updated_by") }}'
    - name: model_created_date
      description: '{{ doc("model_created_date") }}'
    - name: model_updated_date
      description: '{{ doc("model_updated_date") }}'
    - name: suggestion_source
      description: ' {{ doc("code_suggestions_suggestion_source") }} '
    - name: is_invoked
      description: ' {{ doc("code_suggestions_is_invoked") }} '
    - name: options_count
      description: ' {{ doc("code_suggestions_options_count") }} '
    - name: accepted_option
      description: ' {{ doc("code_suggestions_accepted_option") }} '
    - name: has_advanced_context
      description: ' {{ doc("code_suggestions_has_advanced_context") }} '
    - name: is_direct_connection
      description: ' {{ doc("code_suggestions_is_direct_connection") }} '
    - name: gitlab_global_user_id
      description: '{{ doc("gitlab_global_user_id") }}'
    - name: ultimate_parent_namespace_ids
      description: '{{ doc("code_suggestions_ultimate_parent_namespace_ids") }}'
    - name: dim_installation_ids
      description: '{{ doc("code_suggestions_dim_installation_ids") }}'
    - name: dim_crm_account_ids
      description: '{{ doc("code_suggestions_dim_crm_account_ids") }}'
    - name: crm_account_names
      description: '{{ doc("code_suggestions_crm_account_names") }}'
    - name: namespace_is_internal
      description: '{{ doc("code_suggestions_namespace_is_internal") }}'
    - name: product_deployment_type
      description: ' {{ doc("product_deployment_type") }} '
    - name: gsc_instance_version
      description: ' {{ doc("gsc_instance_version") }} '
    - name: total_context_size_bytes
      description: ' {{ doc("code_suggestions_total_context_size_bytes") }}'
    - name: content_above_cursor_size_bytes
      description: ' {{ doc("code_suggestions_content_above_cursor_size_bytes") }}'
    - name: content_below_cursor_size_bytes
      description: ' {{ doc("code_suggestions_content_below_cursor_size_bytes") }}'
    - name: context_items
      description: ' {{ doc("code_suggestions_context_items") }}'
    - name: context_items_count
      description: ' {{ doc("code_suggestions_context_items_count") }}'
    - name: input_tokens
      description: ' {{ doc("code_suggestions_input_tokens") }}'
    - name: output_tokens
      description: ' {{ doc("code_suggestions_output_tokens") }}'
    - name: context_tokens_sent
      description: ' {{ doc("code_suggestions_context_tokens_sent") }}'
    - name: context_tokens_used
      description: ' {{ doc("code_suggestions_context_tokens_used") }}'
    - name: debounce_interval
      description: ' {{ doc("code_suggestions_debounce_interval") }}'

- name: rpt_user_based_metric_counts_namespace_monthly
  description: '{{ doc("rpt_user_based_metric_counts_namespace_monthly") }}'
  data_tests:
    - dbt_utils.expression_is_true:
        expression: "distinct_users_whole_month >= distinct_users_last_28d_month"
    - dbt_utils.unique_combination_of_columns:
        combination_of_columns:
          - date_month
          - ultimate_parent_namespace_id
          - metrics_path
  columns:
    - name: ultimate_parent_namespace_id
      description: '{{ doc("dim_ultimate_parent_namespace_id") }}'
    - name: metrics_path
      description: '{{ doc("metrics_path") }}'

- name: rpt_event_based_metric_counts_namespace_all_time
  description: '{{ doc("rpt_event_based_metric_counts_namespace_all_time") }}'
  columns:
    - name: ultimate_parent_namespace_id
      description: '{{ doc("dim_ultimate_parent_namespace_id") }}'
    - name: metrics_path
      description: '{{ doc("metrics_path") }}'

- name: rpt_zoekt_code_search_rollout_daily
  description: '{{ doc("rpt_zoekt_code_search_rollout_daily") }}'
  columns:
    - name: dim_namespace_id
      description: '{{ ("dim_namespace_id") }}'
    - name: ultimate_parent_namespace_id
      description: '{{ doc("dim_ultimate_parent_namespace_id") }}'
    - name: namespace_created_date
      description: '{{ doc("namespace_created_date") }}'
    - name: namespace_type
      description: '{{ doc("namespace_type") }}'
    - name: visibility_level
      description: '{{ doc("visibility_level") }}'
    - name: namespace_creator_is_blocked
      description: '{{ doc("namespace_creator_is_blocked") }}'
    - name: namespace_is_internal
      description: '{{ doc("namespace_is_internal") }}'
    - name: namespace_is_ultimate_parent
      description: '{{ doc("namespace_is_ultimate_parent") }}'
    - name: gitlab_plan_is_paid
      description: '{{ doc("gitlab_plan_is_paid") }}'
    - name: current_gitlab_plan_title
      description: '{{ doc("plan_name_modified") }}'
    - name: zoekt_rollout_categories
      description: '{{ doc("zoekt_rollout_categories") }}'

- name: rpt_behavior_code_suggestion_gateway_request
  description: '{{ doc("rpt_behavior_code_suggestion_gateway_request") }}'
  columns:
    - name: behavior_structured_event_pk
      description: '{{ doc("behavior_structured_event_pk") }}'
      data_tests:
        - unique
        - not_null
    - name: behavior_at
      description: '{{ doc("behavior_at") }}'
    - name: behavior_date
      description: '{{ doc("behavior_date") }}'
    - name: app_id
      description: '{{ doc("app_id") }}'
    - name: event_category
      description: '{{ doc("event_category") }}'
    - name: event_action
      description: '{{ doc("event_action") }}'
    - name: language
      description: '{{ doc("code_suggestions_language") }}'
    - name: delivery_type
      description: '{{ doc("code_suggestions_delivery_type") }}'
      accepted_values:
        values: ['Self-Managed', 'SaaS']
    - name: product_deployment_type
      description: ' {{ doc("product_deployment_type") }} '
    - name: prefix_length
      description: '{{ doc("code_suggestions_prefix_length") }}'
    - name: suffix_length
      description: '{{ doc("code_suggestions_suffix_length") }}'
    - name: is_direct_connection
      description: ' {{ doc("code_suggestions_is_direct_connection") }} '
    - name: gitlab_global_user_id
      description: '{{ doc("gitlab_global_user_id") }}'
    - name: dim_instance_id
      description: '{{ doc("dim_instance_id") }}'
    - name: host_name
      description: '{{ doc("host_name") }}'
    - name: dim_installation_ids
      description: '{{ doc("code_suggestions_dim_installation_ids") }}'
    - name: namespace_ids
      description: '{{ doc("code_suggestions_namespace_ids") }}'
    - name: ultimate_parent_namespace_ids
      description: '{{ doc("code_suggestions_ultimate_parent_namespace_ids") }}'
    - name: namespace_is_internal
      description: '{{ doc("code_suggestions_namespace_is_internal") }}'
    - name: dim_crm_account_ids
      description: '{{ doc("code_suggestions_dim_crm_account_ids") }}'
    - name: crm_account_names
      description: '{{ doc("code_suggestions_crm_account_names") }}'
    - name: contexts
      description: '{{ doc("contexts") }}'
    - name: code_suggestions_context
      description: '{{ doc("code_suggestions_context") }}'

- name: rpt_product_usage_health_score_account_roll_up
  description: Pulls from `rpt_product_usage_health_score_account_calcs`, reducing the granularity from one record per _installation/namespace_ and subscription per month to one record per _account_ per month. This table is the SSOT for Use Case Adoption scores in the Gainsight scorecard.
  data_tests:
    - dbt_utils.unique_combination_of_columns:
        combination_of_columns:
          - reporting_month
          - dim_crm_account_id